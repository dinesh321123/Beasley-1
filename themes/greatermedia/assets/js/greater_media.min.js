!function(jQuery){function a(){d.on("click.greaterMedia.Menus","a.show-subnavigation",c),d.on("click.greaterMedia.Menus","a.mobile-menu-submenu-back-link",b)}function b(a){a.preventDefault(),jQuery(this).parents(".sub-menu").removeClass("is-visible")}function c(a){a.preventDefault(),d.find(".is-visible").removeClass("is-visible"),jQuery(this).siblings(".sub-menu").addClass("is-visible")}var d=jQuery(document.querySelectorAll("ul.js-mobile-sub-menus"));a()}(jQuery,window),function(a){var b=function(){};b.prototype={run:function(){var b=a(".header__account--container");b.append(this.getMenu());var c=a(".header__account--btn");c.attr("href",this.getAvatarLink());var d=this.getThumbnailURL();if(d){var e=a("<img />",{src:d});c.html(e)}},getAvatarLink:function(){var a=is_gigya_user_logged_in()?"account":"login";return gigya_profile_path(a)},getThumbnailURL:function(){return get_gigya_user_field("thumbnailURL")},getMenu:function(){for(var b,c,d,e=this.getMenuLabels(),f=e.length,g=a('<ul class="header__account--links sub-menu"></ul>'),h=0;f>h;h++)d=e[h],b=a("<li></li>"),c=a("<a></a>",{href:gigya_profile_path(d.endpoint)}),c.text(d.label),b.append(c),g.append(b);return g},getMenuLabels:function(){var a;return a=is_gigya_user_logged_in()?[{label:"Edit Account",endpoint:"account"},{label:"Logout",endpoint:"logout"}]:[{label:"Login/Register",endpoint:"login"}]}},a(document).ready(function(){var a=new b;a.run()})}(jQuery),function(){function a(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function b(){scrollObject={x:window.pageXOffset,y:window.pageYOffset},0===scrollObject.y?(s.classList.contains("logged-in")?(x.style.top=w+wpAdminHeight+"px",x.style.height=windowHeight-wpAdminHeight-w+"px",liveLinks.style.height=windowHeight-w-wpAdminHeight-livePlayerStreamSelectHeight-liveStreamHeight-36+"px"):(x.style.top=w+"px",x.style.height=windowHeight-w+"px",liveLinks.style.height=windowHeight-w-livePlayerStreamSelectHeight-liveStreamHeight-36+"px"),x.classList.remove("live-player--fixed"),x.classList.add("live-player--init")):scrollObject.y>=1&&scrollObject.y<=w?(s.classList.contains("logged-in")?(x.style.top=w+wpAdminHeight+"px",liveLinks.style.height=windowHeight-wpAdminHeight-livePlayerStreamSelectHeight-liveStreamHeight-36+"px"):(x.style.top=w+"px",liveLinks.style.height=windowHeight-livePlayerStreamSelectHeight-liveStreamHeight-36+"px"),x.style.height="100%",x.classList.remove("live-player--fixed"),x.classList.add("live-player--init")):scrollObject.y>=w?(s.classList.contains("logged-in")?(x.style.top=wpAdminHeight+"px",x.style.height=windowHeight-wpAdminHeight+"px",liveLinks.style.height=windowHeight-wpAdminHeight-livePlayerStreamSelectHeight-liveStreamHeight-36+"px"):(x.style.top="0px",x.style.height=windowHeight+"px",liveLinks.style.height=windowHeight-livePlayerStreamSelectHeight-liveStreamHeight-36+"px"),x.classList.remove("live-player--init"),x.classList.add("live-player--fixed")):x.style.height="100%"}function c(){s.classList.contains("logged-in")?(x.style.top=w+wpAdminHeight+"px",x.style.height=windowHeight-wpAdminHeight-w+"px"):(x.style.top=w+"px",x.style.height=windowHeight-w+"px"),x.classList.remove("live-player--fixed"),x.classList.add("live-player--init")}function d(){var a=liveLinksWidget.offsetHeight;liveLinks.style.height=s.classList.contains("logged-in")?windowHeight-w-wpAdminHeight-livePlayerStreamSelectHeight-liveStreamHeight-36+"px":windowHeight-w-livePlayerStreamSelectHeight-liveStreamHeight-36+"px",liveLinksWidget.style.height=a+"px"}function e(){x.style.position="fixed",x.style.top="auto",x.style.bottom="0",x.style.right="0",x.style.left="0",x.style.height="auto"}function f(){x.classList.contains("live-player--init"),x.style.left="auto",x.style.bottom="auto",x.style.right=window.innerWidth>=1385||this.document.documentElement.clientWidth>=1385||this.document.body.clientWidth>=1385?"calc(50% - 700px)":"0",s.classList.contains("logged-in")?(x.style.top=w+wpAdminHeight+"px",x.style.height=windowHeight-wpAdminHeight-w+"px"):(x.style.top=w+"px",x.style.height=windowHeight-w+"px")}function g(){s.classList.toggle("mobile-nav--open")}function h(a){var b=document.querySelector(this.getAttribute("data-target")),c=this.innerText,d=this.getAttribute("data-alt-text");a.preventDefault(),b.style.display="none"!=b.style.display?"none":"block",this.innerText=d,this.setAttribute("data-alt-text",c)}function i(){livePlayerStreamSelect.classList.toggle("open"),y.classList.toggle("open")}function j(){var a=this.querySelector(".live-player__stream--name").textContent;livePlayerCurrentName.textContent=a,document.dispatchEvent(new CustomEvent("live-player-stream-changed",{detail:a}))}function k(){s.classList.toggle("live-player--open"),s.classList.contains("live-player--open")?(document.body.style.overflow="hidden",t.style.overflow="hidden"):(document.body.style.overflow="auto",t.style.overflow="auto")}function l(){s.classList.toggle("live-player--open"),s.classList.contains("live-player--open")?(s.style.overflow="hidden",t.style.overflow="hidden"):(s.style.overflow="auto",t.style.overflow="auto")}function m(){s.classList.toggle("live-player--open"),s.classList.contains("live-player--open")?(s.style.overflow="auto",t.style.overflow="auto"):(s.style.overflow="hidden",t.style.overflow="hidden")}function n(){s.classList.contains("live-player--open")&&s.classList.remove("live-player--open")}function o(){if(window.innerWidth<=767){if(null!=onAir&&a(onAir,z,k),null!=upNext&&a(upNext,z,l),null!=nowPlaying&&a(nowPlaying,z,m),null!=H||null!=J){var b;b=function(){s.classList.add("live-player--active"),nowPlaying.style.display="block",upNext.style.display="none",onAir.style.display="none"},a(H,z,b),a(J,z,b)}null!=I&&a(I,z,function(){s.classList.remove("live-player--active"),nowPlaying.style.display="none",upNext.style.display="block",onAir.style.display="block"}),null!=liveLinksWidget&&a(liveLinksWidget,z,n),null!=x&&e()}window.innerWidth>=768&&null!=x&&(f(),a(window,B,function(){N(),O()}))}function p(a){null!==searchForm&&(a.preventDefault(),searchForm.classList.toggle("header__search--open"),searchInput.focus())}function q(a){null!==searchForm&&searchForm.classList.contains("header__search--open")&&(a.preventDefault(),searchForm.classList.remove("header__search--open"))}function r(){var a=jQuery(document.querySelector(".header__nav--list")),b=jQuery(document.querySelector(".overlay-mask"));a.on("mouseover",".menu-item-has-children",function(){b.addClass("is-visible")}),a.on("mouseout",".menu-item-has-children",function(){b.removeClass("is-visible")})}var s=document.querySelector("body"),t=document.querySelector("html"),u=document.querySelector(".mobile-nav__toggle"),v=(document.getElementById("page-wrap"),document.getElementById("header")),w=v.offsetHeight,x=document.getElementById("live-player__sidebar"),y=document.querySelector(".live-player__stream");livePlayerStreamSelect=document.querySelector(".live-player__stream--current"),livePlayerStreamSelectHeight=livePlayerStreamSelect.offsetHeight,livePlayerCurrentName=livePlayerStreamSelect.querySelector(".live-player__stream--current-name"),livePlayerStreams=livePlayerStreamSelect.querySelectorAll(".live-player__stream--item"),wpAdminHeight=32,onAir=document.getElementById("on-air"),upNext=document.getElementById("up-next"),nowPlaying=document.getElementById("nowPlaying"),liveLinks=document.getElementById("live-links"),liveLink=document.querySelector(".live-link__title"),liveLinksWidget=document.querySelector(".widget--live-player"),liveStream=document.getElementById("live-player"),liveStreamHeight=liveStream.offsetHeight,windowHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0),windowWidth=this.innerWidth||this.document.documentElement.clientWidth||this.document.body.clientWidth||0,scrollObject={},searchForm=document.getElementById("header__search--form"),searchBtn=document.getElementById("header__search"),searchInput=document.getElementById("header-search"),collapseToggle=document.querySelector('*[data-toggle="collapse"]');var z="click",A="load",B="scroll",C="resize",D=function(a,b,c){this.btn=a,this.elemHide=b,this.elemDisplay=c};D.prototype.playAction=function(){var b=this;a(b.btn,z,function(){b.elemHide.style.display="none",b.elemDisplay.style.display="inline-block"})};var E,F,G,H,I,J,K,L;H=document.getElementById("playButton"),I=document.getElementById("pauseButton"),J=document.getElementById("resumeButton"),K=document.getElementById("live-stream__listen-now"),L=document.getElementById("live-stream__now-playing"),E=new D(H,K,L),F=new D(I,L,K),G=new D(J,K,L),a(u,z,g),null!=collapseToggle&&a(collapseToggle,z,h),a(livePlayerStreamSelect,z,i);for(var M=0;M<livePlayerStreams.length;M++)a(livePlayerStreams[M],z,j);null!==searchBtn&&(searchBtn.addEventListener("click",p,!1),searchForm.addEventListener("click",function(a){a.stopPropagation()})),window.onkeydown=function(a){27===a.keyCode&&q()};var N=_.debounce(b,50),O=_.throttle(b,50),P=_.debounce(o,50),Q=_.throttle(o,50);a(window,C,function(){P(),Q()}),window.innerWidth<=767?(null!=onAir&&a(onAir,z,k),null!=upNext&&a(upNext,z,l),null!=nowPlaying&&a(nowPlaying,z,m),null!=liveLinksWidget&&a(liveLinksWidget,z,n)):(a(window,A,function(){c(),null!=liveLinksWidget&&d()}),a(window,B,function(){N(),O()})),r()}();