/*! Greater Media - v0.1.0 - 2014-11-18
 * http://greatermedia.com
 * Copyright (c) 2014; * Licensed GPLv2+ */
!function(){function a(){m.style.height=i.classList.contains("logged-in")?k.classList.contains("header--pinned")?r-l-o+"px":k.classList.contains("header--unpinned")?r-o+"px":"100%":k.classList.contains("header--pinned")?r-l+"px":k.classList.contains("header--unpinned")?r+"px":"100%"}function b(){i.classList.toggle("mobile-nav--open")}function c(){n.classList.toggle("open")}function d(){i.classList.toggle("live-player--open")}function e(){i.classList.toggle("live-player--open")}var f,g,h,i=document.querySelector("body"),j=document.querySelector(".mobile-nav__toggle"),k=document.getElementById("header"),l=k.offsetHeight,m=document.getElementById("live-player__sidebar"),n=document.querySelector(".live-player__stream--current"),o=(document.querySelector(".live-player__stream--available"),32),p=document.getElementById("on-air"),q=document.getElementById("now-playing"),r=(document.getElementById("live-links"),Math.max(document.documentElement.clientHeight,window.innerHeight||0));g=function(){m.style.top=i.classList.contains("logged-in")?o+"px":"0px",m.classList.remove("live-player--init"),m.classList.add("live-player--fixed"),m.style.height=r-l-o+"px"},h=function(){i.classList.contains("logged-in")?(m.style.top=l+o+"px",m.style.height=r-l-o+"px"):(m.style.top=l+"px",m.style.height=r-l+"px"),m.classList.remove("live-player--fixed"),m.classList.add("live-player--init")},window.addEventListener("scroll",a,!1),f=new Headroom(k,{offset:l,tolerance:0,classes:{pinned:"header--pinned",unpinned:"header--unpinned"},onTop:function(){h()},onNotTop:function(){g()}}),window.innerWidth>=768&&f.init(),j.addEventListener("click",b,!1),n.addEventListener("click",c,!1),window.innerWidth<=767&&(p.addEventListener("click",d,!1),q.addEventListener("click",e,!1)),window.addEventListener("resize",function(){window.innerWidth<=767&&(p.addEventListener("click",d,!1),q.addEventListener("click",e,!1)),window.innerWidth>=768&&f.init()})}();
