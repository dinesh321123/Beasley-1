!function(a){"use strict";a.fn.fitVids=function(b){var c={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var d=document.head||document.getElementsByTagName("head")[0],e=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",f=document.createElement("div");f.innerHTML='<p>x</p><style id="fit-vids-style">'+e+"</style>",d.appendChild(f.childNodes[1])}return b&&a.extend(c,b),this.each(function(){var b=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];c.customSelector&&b.push(c.customSelector);var d=".fitvidsignore";c.ignore&&(d=d+", "+c.ignore);var e=a(this).find(b.join(","));e=e.not("object object"),e=e.not(d),e.each(function(){var b=a(this);if(!(b.parents(d).length>0||"embed"===this.tagName.toLowerCase()&&b.parent("object").length||b.parent(".fluid-width-video-wrapper").length)){b.css("height")||b.css("width")||!isNaN(b.attr("height"))&&!isNaN(b.attr("width"))||(b.attr("height",9),b.attr("width",16));var c="object"===this.tagName.toLowerCase()||b.attr("height")&&!isNaN(parseInt(b.attr("height"),10))?parseInt(b.attr("height"),10):b.height(),e=isNaN(parseInt(b.attr("width"),10))?b.width():parseInt(b.attr("width"),10),f=c/e;if(!b.attr("id")){var g="fitvid"+Math.floor(999999*Math.random());b.attr("id",g)}b.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*f+"%"),b.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),function(jQuery,a,b){function c(){f.on("click.greaterMedia.Menus","a.show-subnavigation",e),f.on("click.greaterMedia.Menus","a.mobile-menu-submenu-back-link",d),g.on("click",d)}function d(a){a.preventDefault(),jQuery(this).parents(".sub-menu").removeClass("is-visible")}function e(a){a.preventDefault(),f.find(".is-visible").removeClass("is-visible"),jQuery(this).siblings(".sub-menu").addClass("is-visible")}var f=jQuery(document.querySelectorAll("ul.js-mobile-sub-menus")),g=jQuery(document.querySelector(".menu-overlay-mask"));c()}(jQuery,window),function(a){var b=function(){};b.prototype={run:function(){var b=a("body"),c=a(".header__account--large");b.hasClass("gmr-user")&&c.toggleClass("logged-in");var d=a(".header__account--container");d.append(this.getMenu());var e=a(".header__account--btn");e.attr("href",this.getAvatarLink());var f=this.getThumbnailURL();if(f){var g=a("<img />",{src:f});e.html(g),e.addClass("avatar")}},getAvatarLink:function(){var a=is_gigya_user_logged_in()?"account":"login";return gigya_profile_path(a)},getThumbnailURL:function(){return get_gigya_user_field("thumbnailURL")},getMenu:function(){for(var b,c,d,e=this.getMenuLabels(),f=e.length,g=a('<ul class="header__account--links sub-menu"></ul>'),h=0;f>h;h++)d=e[h],b=a("<li></li>"),c=a("<a></a>",{href:gigya_profile_path(d.endpoint)}),c.text(d.label),b.append(c),g.append(b);return g},getMenuLabels:function(){var a;return a=is_gigya_user_logged_in()?[{label:"Edit Account",endpoint:"account"},{label:"Logout",endpoint:"logout"}]:[{label:"Login/Register",endpoint:"login"}]}},a(document).ready(function(){var a=new b;a.run()})}(jQuery),function(a){a(document).ready(function(){var b,c,d=a("#on-air"),e=[],f="",g={};0!=d.length&&(c=function(a,b){d.find(".on-air__title").text(a),d.find(".on-air__show").text(b)},b=function(){for(var a,b,d=new Date,h=new Date(d.getTime()+6e5),i=!1,j=0;j<e.length;j++)a=new Date(1e3*e[j].starts),b=new Date(1e3*e[j].ends),d>=a&&b>=d&&(g=e[j],c("On Air:",e[j].title),i=!0),h>=a&&b>=h&&e[j].title!=g.title&&(c("Up Next:",e[j].title),i=!0);i||c("",f)},a.get(d.data("endpoint"),function(c){c.success&&c.data&&(f=c.data.tagline||"",a.isArray(e)&&(e=c.data.schedule),b(),setInterval(b,1e3))}))})}(jQuery),function(a){var b=a(window),c=function(){var c,d=a(".shows__schedule--day"),e=a("#wpadminbar").outerHeight();c=function(){var c=b.scrollTop();d.each(function(){var b,d=a(this),f=d.find(".shows__schedule--dayofweek"),g=d.offset().top,h=d.offset().left,i=d.height()+d.offset().top,j=f.height();c+e>=g?(d.addClass("fixed"),b=c+e+j>=i?i-c-j:e,f.width(d.width()).css({top:b+"px",left:h+"px"})):(d.removeClass("fixed"),f.width("auto").css({top:"0px",left:"0px"}))})},b.resize(c),b.scroll(c),c()};a(document).bind("pjax:end",c).ready(c)}(jQuery),function(a){var b=function(a,b){for(var c,d=a.attr("class").split(" "),e=d.length,f=0;e>f;f++)if(c=d[f],0===c.indexOf(b))return c;return null},c=function(){};c.prototype={find:function(){var b=this.getSelector(),c=a(b);return 1===c.length?this.getArticleFromNode(c):null},getSelector:function(){return".main .content .article"},getArticleFromNode:function(a){var b={id:this.getArticleID(a),postType:this.getArticlePostType(a)};return null!==b.id&&null!==b.postType?b:null},getArticleID:function(a){var b=a.attr("id"),c=0===b.indexOf("post-");return c?b.substring(5):null},getArticlePostType:function(a){var c=b(a,"type-");return null!==c?c.substring(5):null}};var d=function(){var b=this,c=this.getShareSelector(),d=function(a){return b.didShareClick(a)};a(c).click(d)};d.prototype={share:function(a){save_gigya_action(a)},didShareClick:function(b){var c=(this.getShareSelector(),this.getCurrentArticle()),d=a(b.target);if(null!==c){var e={network:this.getShareNetwork(d),url:this.getShareUrl()},f=this.getShareAction(c,e);this.share(f)}return!0},getShareSelector:function(){return"a.social__link"},getCurrentArticle:function(){var a=new c;return a.find()},getShareNetwork:function(a){var c=b(a,"icon-");return null!==c?c.substring(5):null},getShareUrl:function(){return[location.protocol,"//",location.host,location.pathname].join("")},getShareAction:function(a,b){var c={actionType:"action:social_share",actionID:a.id,actionData:[{name:"network",value:b.network},{name:"url",value:b.url}]};return c}},a(document).ready(function(){new d}),window.ArticleFinder=c}(jQuery),function(a,b){var c,d=a(document),e={},f=null,g=b.href,h=a("#site-wrap");c=function(a){return a.replace(/[\?\#].*$/g,"")},d.bind("pjax:popstate",function(){f=c(g)}),d.bind("pjax:beforeSend",function(){f=c(b.href)}),d.bind("pjax:end",function(d,h,i){var j=a("body"),k=!1,l=new RegExp('<body.*?class="(.*?)"',"im");e[f]=j.attr("class"),h?(k=l.exec(h.responseText),k&&k.length>=2&&j.attr("class",k[1])):j.attr("class",e[c(i.url)]),g=b.href}),d.bind("pjax:start",function(){a("body").addClass("is-busy")}),d.bind("pjax:click",function(){a("body").addClass("pjax-start")}),d.bind("pjax:end",function(){a("body").removeClass("is-busy")}),d.bind("pjax:start",function(){h.addClass("pjax--active")})}(jQuery,location),function(){function a(a){return a.offsetHeight}function b(a){if(null!=a){for(var b=a.offsetTop,c=a.offsetLeft,d=a.offsetWidth,e=a.offsetHeight;a.offsetParent;)a=a.offsetParent,b+=a.offsetTop,c+=a.offsetLeft;return b<window.pageYOffset+window.innerHeight&&c<window.pageXOffset+window.innerWidth&&b+e>window.pageYOffset&&c+d>window.pageXOffset}}function c(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function d(){null!=G&&(B.classList.contains("logged-in")?G.style.top=H+a(F)+"px":G.style.top=a(F)+"px")}function e(){null!=G&&(G.style.height=a(E)-a(F)+"px")}function f(){var a=document.getElementById("live-links__blogroll");if(null!=a)var b=a.getElementsByTagName("li");null!=M&null!=O&&b.length<=1&&O.classList.add("show-more--muted")}function g(){window.innerWidth>=768&&(P={x:window.pageXOffset,y:window.pageYOffset},0==P.y?(G.classList.contains("live-player--fixed")&&G.classList.remove("live-player--fixed"),d()):P.y>=1&&b(F)&&!b(R)?(G.classList.contains("live-player--fixed")&&G.classList.remove("live-player--fixed"),d()):b(F)||b(R)||(G.classList.add("live-player--fixed"),null!=G&&G.style.removeProperty("top")),e())}function h(){null!=G&&(G.classList.contains("live-player--init")&&G.classList.remove("live-player--init"),G.classList.contains("live-player--fixed")&&G.classList.remove("live-player--fixed"),L.style.marginTop="0px",G.classList.add("live-player--mobile"))}function i(){B.classList.contains("live-player--open")&&B.classList.remove("live-player--open"),G.classList.contains("live-player--mobile")&&G.classList.remove("live-player--mobile"),n(),setTimeout(g,1e3),window.innerWidth>=1385||this.document.documentElement.clientWidth>=1385||this.document.body.clientWidth>=1385?G.style.right="calc(50% - 700px)":G.style.right="0"}function j(){var a=window.pageYOffset;E.style.top="-"+a+"px"}function k(){window.pageYOffset;E.style.removeProperty("top")}function l(){B.classList.toggle("mobile-nav--open"),A(".mobile-nav--open").length?(ja(),j()):(ka(),k())}function m(){function a(){null!=e&&e.classList.toggle("open"),null!==d&&d.classList.toggle("open")}function b(){var a=this.querySelector(".live-player__stream--name").textContent;null!=f&&(f.textContent=a),document.dispatchEvent(new CustomEvent("live-player-stream-changed",{detail:a}))}var d=document.querySelector(".live-player__stream"),e=document.querySelector(".live-player__stream--current"),f=document.querySelector(".live-player__stream--current-name"),g=document.querySelectorAll(".live-player__stream--item");if(null!==e&&c(e,V,a),null!==g)for(var h=0;h<g.length;h++)c(g[h],V,b)}function n(){A("body").hasClass("live-player--open")?(document.body.style.overflow="hidden",C.style.overflow="hidden"):(document.body.style.overflow="initial",C.style.overflow="initial")}function o(){window.innerWidth<=767&&B.classList.toggle("live-player--open")}function p(){window.innerWidth<=767&&B.classList.contains("live-player--open")&&B.classList.remove("live-player--open")}function q(){S.addClass("responsive"),T.removeAttr("width")}function r(){B.classList.contains("gmr-user")||B.classList.add("gmr-user")}function s(){window.innerWidth<=767?null!=G&&h():null!=G&&(i(),c(window,W,function(){ea(),fa()}))}function t(){var a=jQuery(document.querySelector(".header__nav--list")),b=jQuery(document.querySelector(".header__secondary")),c=jQuery(document.querySelector(".menu-overlay-mask")),d=jQuery(document.querySelector("body")),e=jQuery(document.querySelector(".header__logo")),f=jQuery(document.querySelector(".header__sub"));a.on("mouseover",".menu-item-has-children, .header__account--small",function(a){c.addClass("is-visible"),d.hasClass("news-site")&&(e.addClass("is-visible"),f.addClass("is-visible"))}),a.on("mouseout",".menu-item-has-children, .header__account--small",function(a){c.removeClass("is-visible"),d.hasClass("news-site")&&(e.removeClass("is-visible"),f.removeClass("is-visible"))}),b.on("mouseover",".header__account--small, .header__account--large.logged-in",function(a){c.addClass("is-visible"),d.hasClass("news-site")&&(e.addClass("is-visible"),f.addClass("is-visible"))}),b.on("mouseout",".header__account--small, .header__account--large.logged-in",function(a){c.removeClass("is-visible"),d.hasClass("news-site")&&(e.removeClass("is-visible"),f.removeClass("is-visible"))})}function u(){A(".header__nav ul li").on("click touchstart",function(){A(this).addClass("active")})}function v(){A(".header__nav ul li").removeClass("active")}function w(){var a=jQuery(document.querySelector(".menu-overlay-mask"));a.removeClass("is-visible")}function x(){A(".header__nav ul li").hover(function(){A(this).addClass("active")},function(){A(this).removeClass("active")})}function y(){var a=jQuery(document.querySelector("body")),b=jQuery(document.querySelector(".header__logo")),c=jQuery(document.querySelector(".header__main"));c.on("mouseover",function(c){a.hasClass("news-site")&&b.addClass("is-visible")}),c.on("mouseout",function(c){a.hasClass("news-site")&&b.removeClass("is-visible")})}function z(){var a=jQuery(".person-toggle");start=jQuery(".personality__meta").first().height(),a.on("click",function(a){var b=A(this);$parent=b.parent().parent(".personality"),$meta=b.siblings(".personality__meta"),curr=$meta.height(),auto=$meta.css("height","auto").height(),offset="",$parent.toggleClass("open"),b.text(b.hasClass("active")?"More":"Less"),b.toggleClass("active")})}var A=jQuery,B=document.querySelector("body"),C=document.querySelector("html"),D=document.querySelector(".mobile-nav__toggle"),E=document.getElementById("site-wrap"),F=(document.getElementById("page-wrap"),document.getElementById("header")),G=document.getElementById("live-player__sidebar"),H=(document.querySelector(".live-stream"),document.querySelector(".live-links--more__btn"),document.getElementById("live-links__widget--end"),document.getElementById("wpadminbar"),32),I=document.getElementById("on-air"),J=document.getElementById("up-next"),K=document.getElementById("nowPlaying"),L=document.getElementById("live-links"),M=(document.querySelector(".live-link__title"),document.querySelector(".widget--live-player")),N=document.querySelector(".widget--live-player__title"),O=document.querySelector(".live-links--more"),P=(document.getElementById("live-player"),this.innerWidth||this.document.documentElement.clientWidth||this.document.body.clientWidth||0,this.innerHeight||this.document.documentElement.clientHeight||this.document.body.clientHeight||0,{}),Q=(document.getElementById("breaking-news-banner"),A(".overlay-mask"),document.getElementById("live-player--more")),R=(document.querySelector(".main"),document.querySelector(".footer")),S=A("table"),T=A("table td"),U=document.querySelector(".live-player--open__btn"),V="click",W="scroll",X="resize";if(!document.getElementById("popup-player-livestream")){var Y=function(a,b,c){this.btn=a,this.elemHide=b,this.elemDisplay=c};Y.prototype.playAction=function(){var a=this;c(a.btn,V,function(){a.elemHide.style.display="none",a.elemDisplay.style.display="inline-block"})};var Z,$,aa,ba,ca,da;$=document.getElementById("playButton"),aa=document.getElementById("pauseButton"),ba=document.getElementById("resumeButton"),ca=document.getElementById("live-stream__listen-now"),da=document.getElementById("live-stream__now-playing"),Z=new Y(ba,ca,da),c(D,V,l),m(),q(),is_gigya_user_logged_in()&&r();var ea=_.debounce(g,50),fa=_.throttle(g,50),ga=_.debounce(s,50),ha=_.throttle(s,50);window.innerWidth>=768&&(d(),e(),f(),c(window,W,function(){ea(),fa()})),null!=I&&c(I,V,o),null!=J&&c(J,V,o),null!=K&&c(K,V,o),null!=Q&&c(Q,"click",o),null!=M&&c(M,V,p),B.classList.contains("liveplayer-disabled")&&(c(N,"click",o),c(U,"click",o)),c(window,X,function(){ga(),ha()}),t(),u(),x(),y(),function(a){a(document).on("click",".popup",function(){var b=a(this).attr("href"),c=screen.width/2-350,d=screen.height/2-225;return window.open(b,b,"height=485,width=700,scrollbars=yes,resizable=yes,left="+c+",top="+d),!1}),a(document).on("click",'*[data-toggle="collapse"]',function(b){var c=a(a(this).attr("data-target")).get(0),d=a(this).html(),e=a(this).attr("data-alt-text");return c.style.display="none"!=c.style.display?"none":"block",a(this).html(e),a(this).attr("data-alt-text",d),!1}),a(document).ready(function(){a(".article__content").fitVids({customSelector:"div[id^='playerwrapper']"})})}(jQuery),A(document).bind("pjax:end",function(){z(),ka(),v(),w()});var ia=function(){var a=A("#mobile-nav-blocker");return 0===a.length&&(A('<div id="mobile-nav-blocker"></div>').insertAfter("#mobile-nav"),a=A("#mobile-nav-blocker"),a.on("click",l)),a},ja=function(){var a=ia();a.css({width:A(document).width(),height:A(document).height(),display:"block"})},ka=function(){var a=ia();a.css({display:"none"}),a.hasClass("active")&&a.removeClass("active")};A(document).ready(function(){z()})}}(),function(){function a(a){a.preventDefault(),e.hasClass("header__search--open")||(i.addClass("is-visible"),"0s"!==e.css("transitionDuration")?e.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){h.focus().select()}):h.focus().select(),e.addClass("header__search--open"))}function b(a){a.preventDefault(),e.hasClass("header__search--open")&&(e.removeClass("header__search--open"),i.removeClass("is-visible"),document.activeElement.blur())}function c(){var a=e.find(".header-search-body");h.val().length?a.addClass("is-visible"):a.removeClass("is-visible")}var d=jQuery,e=d("#header__search--form "),f=d("#header__search--form ").find("form"),g=d("#header__search"),h=d("#header-search"),i=d(".header-search-overlay-mask");g.click(a),h.add(f.find("button[type=submit]")).click(a),h.keyup(c),c(),d(window).keydown(function(a){27===a.keyCode&&b(a)}),f.keydown(function(a){13===a.keyCode&&d(this).submit()}),i.click(function(a){b(a)}),e.find(".header__search--cancel").click(function(a){a.preventDefault(),b(a)}),e.find(".header-search__search-all-btn").click(function(){f.submit()}),f.submit(function(a){a.preventDefault(),d("<a></a>").attr("href",d(this).attr("action")+"?s="+d(this).find("input[name=s]").val()).appendTo(d(this)).get(0).click(),b(a)})}();