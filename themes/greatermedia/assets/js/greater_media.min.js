!function(jQuery){function a(){d.on("click.greaterMedia.Menus","a.show-subnavigation",c),d.on("click.greaterMedia.Menus","a.mobile-menu-submenu-back-link",b)}function b(a){a.preventDefault(),jQuery(this).parents(".sub-menu").removeClass("is-visible")}function c(a){a.preventDefault(),d.find(".is-visible").removeClass("is-visible"),jQuery(this).siblings(".sub-menu").addClass("is-visible")}var d=jQuery(document.querySelectorAll("ul.js-mobile-sub-menus"));a()}(jQuery,window),function(){function a(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function b(){livePlayerStreamSelect.classList.toggle("open")}function c(){var a=this.querySelector(".live-player__stream--name").textContent;livePlayerCurrentName.textContent=a,document.dispatchEvent(new CustomEvent("live-player-stream-changed",{detail:a}))}function d(){scrollObject={x:window.pageXOffset,y:window.pageYOffset},0===scrollObject.y?(p.classList.contains("logged-in")?(u.style.top=t+wpAdminHeight+"px",u.style.height=windowHeight-wpAdminHeight-t+"px",liveLinks.style.height=windowHeight-t-wpAdminHeight-livePlayerStreamSelectHeight-liveStreamHeight-36+"px"):(u.style.top=t+"px",u.style.height=windowHeight-t+"px",liveLinks.style.height=windowHeight-t-livePlayerStreamSelectHeight-liveStreamHeight-36+"px"),u.classList.remove("live-player--fixed"),u.classList.add("live-player--init")):scrollObject.y>=1&&scrollObject.y<=t?(p.classList.contains("logged-in")?(u.style.top=t+wpAdminHeight+"px",liveLinks.style.height=windowHeight-wpAdminHeight-livePlayerStreamSelectHeight-liveStreamHeight-36+"px"):(u.style.top=t+"px",liveLinks.style.height=windowHeight-livePlayerStreamSelectHeight-liveStreamHeight-36+"px"),u.style.height="100%",u.classList.remove("live-player--fixed"),u.classList.add("live-player--init")):scrollObject.y>=t?(p.classList.contains("logged-in")?(u.style.top=wpAdminHeight+"px",u.style.height=windowHeight-wpAdminHeight+"px",liveLinks.style.height=windowHeight-wpAdminHeight-livePlayerStreamSelectHeight-liveStreamHeight-36+"px"):(u.style.top="0px",u.style.height=windowHeight+"px",liveLinks.style.height=windowHeight-livePlayerStreamSelectHeight-liveStreamHeight-36+"px"),u.classList.remove("live-player--init"),u.classList.add("live-player--fixed")):u.style.height="100%"}function e(){p.classList.contains("logged-in")?(u.style.top=t+wpAdminHeight+"px",u.style.height=windowHeight-wpAdminHeight-t+"px"):(u.style.top=t+"px",u.style.height=windowHeight-t+"px"),u.classList.remove("live-player--fixed"),u.classList.add("live-player--init")}function f(){var a=liveLinksWidget.offsetHeight;liveLinks.style.height=p.classList.contains("logged-in")?windowHeight-t-wpAdminHeight-livePlayerStreamSelectHeight-liveStreamHeight-36+"px":windowHeight-t-livePlayerStreamSelectHeight-liveStreamHeight-36+"px",liveLinksWidget.style.height=a+"px"}function g(a){var b=document.querySelector(this.getAttribute("data-target")),c=this.innerText,d=this.getAttribute("data-alt-text");a.preventDefault(),b.style.display="none"!=b.style.display?"none":"block",this.innerText=d,this.setAttribute("data-alt-text",c)}function h(){p.classList.toggle("mobile-nav--open")}function i(){p.classList.toggle("live-player--open"),p.classList.contains("live-player--open")?(document.body.style.overflow="hidden",q.style.overflow="hidden"):(document.body.style.overflow="auto",q.style.overflow="auto")}function j(){p.classList.toggle("live-player--open"),p.classList.contains("live-player--open")?(p.style.overflow="hidden",q.style.overflow="hidden"):(p.style.overflow="auto",q.style.overflow="auto")}function k(){p.classList.toggle("live-player--open"),p.classList.contains("live-player--open")?(p.style.overflow="auto",q.style.overflow="auto"):(p.style.overflow="hidden",q.style.overflow="hidden")}function l(){p.classList.contains("live-player--open")&&p.classList.remove("live-player--open")}function m(){if(window.innerWidth<=767){if(null!=onAir&&a(onAir,v,i),null!=upNext&&a(upNext,v,j),null!=nowPlaying&&a(nowPlaying,v,k),null!=E||null!=G){var b;b=function(){p.classList.add("live-player--active"),nowPlaying.style.display="block",upNext.style.display="none",onAir.style.display="none"},a(E,v,b),a(G,v,b)}null!=F&&a(F,v,function(){p.classList.remove("live-player--active"),nowPlaying.style.display="none",upNext.style.display="block",onAir.style.display="block"}),null!=liveLinksWidget&&a(liveLinksWidget,v,l)}window.innerWidth>=768&&a(window,w,e)}function n(a){null!==searchForm&&(a.preventDefault(),searchForm.classList.toggle("header__search--open"),searchInput.focus())}function o(a){null!==searchForm&&searchForm.classList.contains("header__search--open")&&(a.preventDefault(),searchForm.classList.remove("header__search--open"))}{var p=document.querySelector("body"),q=document.querySelector("html"),r=document.querySelector(".mobile-nav__toggle"),s=(document.getElementById("page-wrap"),document.getElementById("header")),t=s.offsetHeight,u=document.getElementById("live-player__sidebar");document.querySelector(".live-player__stream")}livePlayerStreamSelect=document.querySelector(".live-player__stream--current"),livePlayerStreamSelectHeight=livePlayerStreamSelect.offsetHeight,livePlayerCurrentName=livePlayerStreamSelect.querySelector(".live-player__stream--current-name"),livePlayerStreams=livePlayerStreamSelect.querySelectorAll(".live-player__stream--item"),wpAdminHeight=32,onAir=document.getElementById("on-air"),upNext=document.getElementById("up-next"),nowPlaying=document.getElementById("nowPlaying"),liveLinks=document.getElementById("live-links"),liveLink=document.querySelector(".live-link__title"),liveLinksWidget=document.querySelector(".widget--live-player"),liveStream=document.getElementById("live-player"),liveStreamHeight=liveStream.offsetHeight,windowHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0),windowWidth=this.innerWidth||this.document.documentElement.clientWidth||this.document.body.clientWidth||0,scrollObject={},searchForm=document.getElementById("header__search--form"),searchBtn=document.getElementById("header__search"),searchInput=document.getElementById("header-search"),collapseToggle=document.querySelector('*[data-toggle="collapse"]');var v="click",w="load",x="scroll",y="resize";a(livePlayerStreamSelect,v,b);for(var z=0;z<livePlayerStreams.length;z++)a(livePlayerStreams[z],v,c);if(!document.getElementById("popup-player-livestream")){var A=function(a,b,c){this.btn=a,this.elemHide=b,this.elemDisplay=c};A.prototype.playAction=function(){var b=this;a(b.btn,v,function(){b.elemHide.style.display="none",b.elemDisplay.style.display="inline-block"})},null!=collapseToggle&&a(collapseToggle,v,g);var B,C,D,E,F,G,H,I;E=document.getElementById("playButton"),F=document.getElementById("pauseButton"),G=document.getElementById("resumeButton"),H=document.getElementById("live-stream__listen-now"),I=document.getElementById("live-stream__now-playing"),B=new A(E,H,I),C=new A(F,I,H),D=new A(G,H,I),a(r,v,h),null!==searchBtn&&(searchBtn.addEventListener("click",n,!1),searchForm.addEventListener("click",function(a){a.stopPropagation()})),window.onkeydown=function(a){27===a.keyCode&&o()};var J=_.debounce(d,50),K=_.throttle(d,50),L=_.debounce(m,50),M=_.throttle(m,50);window.innerWidth<=767?(null!=onAir&&a(onAir,v,i),null!=upNext&&a(upNext,v,j),null!=nowPlaying&&a(nowPlaying,v,k),null!=liveLinksWidget&&a(liveLinksWidget,v,l),a(window,y,function(){L(),M()})):(a(window,w,function(){e(),null!=liveLinksWidget&&f()}),a(window,x,function(){J(),K()}))}}();