!function(jQuery){function a(){d.on("click.greaterMedia.Menus","a.show-subnavigation",c),d.on("click.greaterMedia.Menus","a.mobile-menu-submenu-back-link",b)}function b(a){a.preventDefault(),jQuery(this).parents(".sub-menu").removeClass("is-visible")}function c(a){a.preventDefault(),d.find(".is-visible").removeClass("is-visible"),jQuery(this).siblings(".sub-menu").addClass("is-visible")}var d=jQuery(document.querySelectorAll("ul.js-mobile-sub-menus"));a()}(jQuery,window),function(){function a(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function b(){I={x:window.pageXOffset,y:window.pageYOffset},0===I.y?(o.classList.contains("logged-in")?(u.style.top=t+z+"px",u.style.height=H-z-t+"px",D.style.height=H-t-z-w-G-36+"px"):(u.style.top=t+"px",u.style.height=H-t+"px",D.style.height=H-t-w-G-36+"px"),u.classList.remove("live-player--fixed"),u.classList.add("live-player--init")):I.y>=1&&I.y<=t?(o.classList.contains("logged-in")?(u.style.top=t+z+"px",D.style.height=H-z-w-G-36+"px"):(u.style.top=t+"px",D.style.height=H-w-G-36+"px"),u.style.height="100%",u.classList.remove("live-player--fixed"),u.classList.add("live-player--init")):I.y>=t?(o.classList.contains("logged-in")?(u.style.top=z+"px",u.style.height=H-z+"px",D.style.height=H-z-w-G-36+"px"):(u.style.top="0px",u.style.height=H+"px",D.style.height=H-w-G-36+"px"),u.classList.remove("live-player--init"),u.classList.add("live-player--fixed")):u.style.height="100%"}function c(){o.classList.contains("logged-in")?(u.style.top=t+z+"px",u.style.height=H-z-t+"px"):(u.style.top=t+"px",u.style.height=H-t+"px"),u.classList.remove("live-player--fixed"),u.classList.add("live-player--init")}function d(){var a=E.offsetHeight;D.style.height=o.classList.contains("logged-in")?H-t-z-w-G-36+"px":H-t-w-G-36+"px",E.style.height=a+"px"}function e(){o.classList.toggle("mobile-nav--open")}function f(){v.classList.toggle("open")}function g(){var a=this.querySelector(".live-player__stream--name").textContent;x.textContent=a,document.dispatchEvent(new CustomEvent("live-player-stream-changed",{detail:a}))}function h(){o.classList.toggle("live-player--open"),o.classList.contains("live-player--open")?(document.body.style.overflow="hidden",p.style.overflow="hidden"):(document.body.style.overflow="auto",p.style.overflow="auto")}function i(){o.classList.toggle("live-player--open"),o.classList.contains("live-player--open")?(o.style.overflow="hidden",p.style.overflow="hidden"):(o.style.overflow="auto",p.style.overflow="auto")}function j(){o.classList.toggle("live-player--open"),o.classList.contains("live-player--open")?(o.style.overflow="auto",p.style.overflow="auto"):(o.style.overflow="hidden",p.style.overflow="hidden")}function k(){o.classList.contains("live-player--open")&&o.classList.remove("live-player--open")}function l(){if(window.innerWidth<=767){if(null!=A&&a(A,M,h),null!=B&&a(B,M,i),null!=C&&a(C,M,j),null!=U||null!=W){var b;b=function(){o.classList.add("live-player--active"),C.style.display="block",B.style.display="none",A.style.display="none"},a(U,M,b),a(W,M,b)}null!=V&&a(V,M,function(){o.classList.remove("live-player--active"),C.style.display="none",B.style.display="block",A.style.display="block"}),null!=E&&a(E,M,k)}window.innerWidth>=768&&a(window,N,c),null!=E&&d()}function m(a){a=a||window.event,null!==J&&(J.classList.toggle("header__search--open"),L.focus()),a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation()}function n(a){a=a||window.event,null!==J&&J.classList.contains("header__search--open")&&J.classList.remove("header__search--open"),a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation()}var o=document.querySelector("body"),p=document.querySelector("html"),q=document.querySelector(".mobile-nav__toggle"),r=document.getElementById("page-wrap"),s=document.getElementById("header"),t=s.offsetHeight,u=document.getElementById("live-player__sidebar"),v=document.querySelector(".live-player__stream--current"),w=v.offsetHeight,x=v.querySelector(".live-player__stream--current-name"),y=v.querySelectorAll(".live-player__stream--item"),z=32,A=document.getElementById("on-air"),B=document.getElementById("up-next"),C=document.getElementById("nowPlaying"),D=document.getElementById("live-links"),E=(document.querySelector(".live-link__title"),document.querySelector(".widget--live-player")),F=document.getElementById("live-player"),G=F.offsetHeight,H=Math.max(document.documentElement.clientHeight,window.innerHeight||0),I=(this.innerWidth||this.document.documentElement.clientWidth||this.document.body.clientWidth||0,{}),J=document.getElementById("header__search--form"),K=document.getElementById("header__search"),L=document.getElementById("header-search"),M="click",N="load",O="scroll",P="resize",Q=function(a,b,c){this.btn=a,this.elemHide=b,this.elemDisplay=c};Q.prototype.playAction=function(){var b=this;a(b.btn,M,function(){b.elemHide.style.display="none",b.elemDisplay.style.display="inline-block"})};var R,S,T,U,V,W,X,Y;U=document.getElementById("playButton"),V=document.getElementById("pauseButton"),W=document.getElementById("resumeButton"),X=document.getElementById("live-stream__listen-now"),Y=document.getElementById("live-stream__now-playing"),R=new Q(U,X,Y),S=new Q(V,Y,X),T=new Q(W,X,Y),a(q,M,e),a(v,M,f);for(var Z=0;Z<y.length;Z++)a(y[Z],M,g);null!==K&&(K.addEventListener("click",m,!1),r.addEventListener("click",n,!1),J.addEventListener("click",function(a){a.stopPropagation()})),window.onkeydown=function(a){27===a.keyCode&&n()};var $=_.debounce(b,50),ab=_.throttle(b,50),bb=_.debounce(l,50),cb=_.throttle(l,50);window.innerWidth<=767?(null!=A&&a(A,M,h),null!=B&&a(B,M,i),null!=C&&a(C,M,j),null!=E&&a(E,M,k)):(a(window,N,function(){c(),null!=E&&d()}),a(window,O,function(){$(),ab()})),a(window,P,function(){bb(),cb()})}();