!function(jQuery){function a(){d.on("click.greaterMedia.Menus","a.show-subnavigation",c),d.on("click.greaterMedia.Menus","a.mobile-menu-submenu-back-link",b)}function b(a){a.preventDefault(),jQuery(this).parents(".sub-menu").removeClass("is-visible")}function c(a){a.preventDefault(),d.find(".is-visible").removeClass("is-visible"),jQuery(this).siblings(".sub-menu").addClass("is-visible")}var d=jQuery(document.querySelectorAll("ul.js-mobile-sub-menus"));a()}(jQuery,window),function(){function a(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function b(){J={x:window.pageXOffset,y:window.pageYOffset},0===J.y?(q.classList.contains("logged-in")?(v.style.top=u+A+"px",v.style.height=I-A-u+"px",E.style.height=I-u-A-x-H-36+"px"):(v.style.top=u+"px",v.style.height=I-u+"px",E.style.height=I-u-x-H-36+"px"),v.classList.remove("live-player--fixed"),v.classList.add("live-player--init")):J.y>=1&&J.y<=u?(q.classList.contains("logged-in")?(v.style.top=u+A+"px",E.style.height=I-A-x-H-36+"px"):(v.style.top=u+"px",E.style.height=I-x-H-36+"px"),v.style.height="100%",v.classList.remove("live-player--fixed"),v.classList.add("live-player--init")):J.y>=u?(q.classList.contains("logged-in")?(v.style.top=A+"px",v.style.height=I-A+"px",E.style.height=I-A-x-H-36+"px"):(v.style.top="0px",v.style.height=I+"px",E.style.height=I-x-H-36+"px"),v.classList.remove("live-player--init"),v.classList.add("live-player--fixed")):v.style.height="100%"}function c(){q.classList.contains("logged-in")?(v.style.top=u+A+"px",v.style.height=I-A-u+"px"):(v.style.top=u+"px",v.style.height=I-u+"px"),v.classList.remove("live-player--fixed"),v.classList.add("live-player--init")}function d(){var a=F.offsetHeight;E.style.height=q.classList.contains("logged-in")?I-u-A-x-H-36+"px":I-u-x-H-36+"px",F.style.height=a+"px"}function e(){q.classList.toggle("mobile-nav--open")}function f(a){var b=document.querySelector(this.getAttribute("data-target")),c=this.innerText,d=this.getAttribute("data-alt-text");a.preventDefault(),b.style.display="none"!=b.style.display?"none":"block",this.innerText=d,this.setAttribute("data-alt-text",c)}function g(){w.classList.toggle("open")}function h(){var a=this.querySelector(".live-player__stream--name").textContent;y.textContent=a,document.dispatchEvent(new CustomEvent("live-player-stream-changed",{detail:a}))}function i(){q.classList.toggle("live-player--open"),q.classList.contains("live-player--open")?(document.body.style.overflow="hidden",r.style.overflow="hidden"):(document.body.style.overflow="auto",r.style.overflow="auto")}function j(){q.classList.toggle("live-player--open"),q.classList.contains("live-player--open")?(q.style.overflow="hidden",r.style.overflow="hidden"):(q.style.overflow="auto",r.style.overflow="auto")}function k(){q.classList.toggle("live-player--open"),q.classList.contains("live-player--open")?(q.style.overflow="auto",r.style.overflow="auto"):(q.style.overflow="hidden",r.style.overflow="hidden")}function l(){q.classList.contains("live-player--open")&&q.classList.remove("live-player--open")}function m(){if(window.innerWidth<=767){if(null!=B&&a(B,O,i),null!=C&&a(C,O,j),null!=D&&a(D,O,k),null!=W||null!=Y){var b;b=function(){q.classList.add("live-player--active"),D.style.display="block",C.style.display="none",B.style.display="none"},a(W,O,b),a(Y,O,b)}null!=X&&a(X,O,function(){q.classList.remove("live-player--active"),D.style.display="none",C.style.display="block",B.style.display="block"}),null!=F&&a(F,O,l)}window.innerWidth>=768&&a(window,P,c)}function n(a){null!==K&&(a.preventDefault(),K.classList.toggle("header__search--open"),M.focus())}function o(a){null!==K&&K.classList.contains("header__search--open")&&(a.preventDefault(),K.classList.remove("header__search--open"))}function p(){var a=jQuery(document.querySelector(".header__nav--list")),b=jQuery(document.querySelector(".overlay-mask"));a.on("mouseover",".menu-item-has-children",function(){b.addClass("is-visible"),window.console.log("is visible")}),a.on("mouseout",".menu-item-has-children",function(){b.removeClass("is-visible"),window.console.log("is not visible")})}var q=document.querySelector("body"),r=document.querySelector("html"),s=document.querySelector(".mobile-nav__toggle"),t=(document.getElementById("page-wrap"),document.getElementById("header")),u=t.offsetHeight,v=document.getElementById("live-player__sidebar"),w=document.querySelector(".live-player__stream--current"),x=w.offsetHeight,y=w.querySelector(".live-player__stream--current-name"),z=w.querySelectorAll(".live-player__stream--item"),A=32,B=document.getElementById("on-air"),C=document.getElementById("up-next"),D=document.getElementById("nowPlaying"),E=document.getElementById("live-links"),F=(document.querySelector(".live-link__title"),document.querySelector(".widget--live-player")),G=document.getElementById("live-player"),H=G.offsetHeight,I=Math.max(document.documentElement.clientHeight,window.innerHeight||0),J=(this.innerWidth||this.document.documentElement.clientWidth||this.document.body.clientWidth||0,{}),K=document.getElementById("header__search--form"),L=document.getElementById("header__search"),M=document.getElementById("header-search"),N=document.querySelector('*[data-toggle="collapse"]'),O="click",P="load",Q="scroll",R="resize",S=function(a,b,c){this.btn=a,this.elemHide=b,this.elemDisplay=c};S.prototype.playAction=function(){var b=this;a(b.btn,O,function(){b.elemHide.style.display="none",b.elemDisplay.style.display="inline-block"})};var T,U,V,W,X,Y,Z,$;W=document.getElementById("playButton"),X=document.getElementById("pauseButton"),Y=document.getElementById("resumeButton"),Z=document.getElementById("live-stream__listen-now"),$=document.getElementById("live-stream__now-playing"),T=new S(W,Z,$),U=new S(X,$,Z),V=new S(Y,Z,$),a(s,O,e),null!=N&&a(N,O,f),a(w,O,g);for(var ab=0;ab<z.length;ab++)a(z[ab],O,h);null!==L&&(L.addEventListener("click",n,!1),K.addEventListener("click",function(a){a.stopPropagation()})),window.onkeydown=function(a){27===a.keyCode&&o()};var bb=_.debounce(b,50),cb=_.throttle(b,50),db=_.debounce(m,50),eb=_.throttle(m,50);window.innerWidth<=767?(null!=B&&a(B,O,i),null!=C&&a(C,O,j),null!=D&&a(D,O,k),null!=F&&a(F,O,l),a(window,R,function(){db(),eb()})):(a(window,P,function(){c(),null!=F&&d()}),a(window,Q,function(){bb(),cb()})),p()}();