!function(jQuery){function a(){d.on("click.greaterMedia.Menus","a.show-subnavigation",c),d.on("click.greaterMedia.Menus","a.mobile-menu-submenu-back-link",b)}function b(a){a.preventDefault(),jQuery(this).parents(".sub-menu").removeClass("is-visible")}function c(a){a.preventDefault(),d.find(".is-visible").removeClass("is-visible"),jQuery(this).siblings(".sub-menu").addClass("is-visible")}var d=jQuery(document.querySelectorAll("ul.js-mobile-sub-menus"));a()}(jQuery,window),function(a){var b=function(){};b.prototype={run:function(){var b=a("body"),c=a(".header__account--large");b.hasClass("gmr-user")&&c.toggleClass("logged-in");var d=a(".header__account--container");d.append(this.getMenu());var e=a(".header__account--btn");e.attr("href",this.getAvatarLink());var f=this.getThumbnailURL();if(f){var g=a("<img />",{src:f});e.html(g)}},getAvatarLink:function(){var a=is_gigya_user_logged_in()?"account":"login";return gigya_profile_path(a)},getThumbnailURL:function(){return get_gigya_user_field("thumbnailURL")},getMenu:function(){for(var b,c,d,e=this.getMenuLabels(),f=e.length,g=a('<ul class="header__account--links sub-menu"></ul>'),h=0;f>h;h++)d=e[h],b=a("<li></li>"),c=a("<a></a>",{href:gigya_profile_path(d.endpoint)}),c.text(d.label),b.append(c),g.append(b);return g},getMenuLabels:function(){var a;return a=is_gigya_user_logged_in()?[{label:"Edit Account",endpoint:"account"},{label:"Logout",endpoint:"logout"}]:[{label:"Login/Register",endpoint:"login"}]}},a(document).ready(function(){var a=new b;a.run()})}(jQuery),function(a){var b=function(a,b){for(var c,d=a.attr("class").split(" "),e=d.length,f=0;e>f;f++)if(c=d[f],0===c.indexOf(b))return c;return null},c=function(){};c.prototype={find:function(){var b=this.getSelector(),c=a(b);return 1===c.length?this.getArticleFromNode(c):null},getSelector:function(){return".main .content .article"},getArticleFromNode:function(a){var b={id:this.getArticleID(a),postType:this.getArticlePostType(a)};return null!==b.id&&null!==b.postType?b:null},getArticleID:function(a){var b=a.attr("id"),c=0===b.indexOf("post-");return c?b.substring(5):null},getArticlePostType:function(a){var c=b(a,"type-");return null!==c?c.substring(5):null}};var d=function(){var b=this,c=this.getShareSelector(),d=function(a){return b.didShareClick(a)};a(c).click(d)};d.prototype={share:function(a){save_gigya_action(a)},didShareClick:function(b){var c=(this.getShareSelector(),this.getCurrentArticle()),d=a(b.target);if(null!==c){var e={network:this.getShareNetwork(d),url:this.getShareUrl()},f=this.getShareAction(c,e);this.share(f)}return!0},getShareSelector:function(){return"a.social__link"},getCurrentArticle:function(){var a=new c;return a.find()},getShareNetwork:function(a){var c=b(a,"icon-");return null!==c?c.substring(5):null},getShareUrl:function(){return[location.protocol,"//",location.host,location.pathname].join("")},getShareAction:function(a,b){var c={actionType:"action:social_share",actionID:a.id,actionData:[{name:"network",value:b.network},{name:"url",value:b.url}]};return c}},a(document).ready(function(){new d}),window.ArticleFinder=c}(jQuery),function(a,b){var c,d=a(document),e={},f=null,g=b.href;c=function(a){return a.replace(/[\?\#].*$/g,"")},d.bind("pjax:popstate",function(){f=c(g)}),d.bind("pjax:beforeSend",function(){f=c(b.href)}),d.bind("pjax:end",function(d,h,i){var j=a("body"),k=!1,l=new RegExp('<body.*?class="(.*?)"',"im");e[f]=j.attr("class"),h?(k=l.exec(h.responseText),k&&k.length>=2&&j.attr("class",k[1])):j.attr("class",e[c(i.url)]),g=b.href})}(jQuery,location),function(){function a(a){return null!=a&&a===G&&null!=Y?a.offsetHeight+Y.offsetHeight:a.offsetHeight}function b(a){return null!=a?a.offsetTop:void 0}function c(c){return a(c)-b(c)}function d(a){return Math.max(document.documentElement.clientHeight,a.innerHeight||0)}function e(a){for(var b=a.offsetTop,c=a.offsetLeft,d=a.offsetWidth,e=a.offsetHeight;a.offsetParent;)a=a.offsetParent,b+=a.offsetTop,c+=a.offsetLeft;return b<window.pageYOffset+window.innerHeight&&c<window.pageXOffset+window.innerWidth&&b+e>window.pageYOffset&&c+d>window.pageXOffset}function f(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function g(){D.classList.contains("logged-in")?(H.style.top=M+a(G)+"px",H.style.height=d(window)-M-a(G)+"px",Q.style.height=d(window)-M-a(G)-a(J)-a(S)+"px"):(H.style.top=a(G)+"px",H.style.height=d(window)-a(G)+"px",Q.style.height=d(window)-a(G)-a(J)-a(S)+"px"),H.classList.remove("live-player--fixed"),H.classList.add("live-player--init")}function h(){D.classList.contains("logged-in")?(H.style.top=M+a(G)+"px",H.style.height=d(window)-M+"px",Q.style.height=d(window)-b(G)-a(J)-a(S)+"px"):(H.style.top=a(G)+"px",H.style.height=d(window)-M-a(G)+"px",Q.style.height=d(window)-c(G)-a(J)-a(S)+"px"),H.classList.remove("live-player--fixed"),H.classList.add("live-player--init")}function i(){D.classList.contains("logged-in")?(H.style.top=M+"px",H.style.height=d(window)-M+"px",Q.style.height=d(window)-M-a(J)-a(S)+"px"):(H.style.top="0px",H.style.height=d(window)+"px",Q.style.height=d(window)-a(J)-a(S)+"px"),H.classList.remove("live-player--init"),H.classList.add("live-player--fixed")}function j(){H.style.height="100%"}function k(){window.innerWidth>=768&&(T={x:window.pageXOffset,y:window.pageYOffset},0==T.y?g():T.y>=1&&e(G)?h():e(G)?j():i())}function l(){window.innerWidth>=768&&(R.style.height=a(R)+"px")}function m(){null!=H&&(H.classList.contains("live-player--init")&&H.classList.remove("live-player--init"),H.classList.contains("live-player--fixed")&&H.classList.remove("live-player--fixed"),H.classList.add("live-player--mobile"))}function n(){D.classList.contains("live-player--open")&&D.classList.remove("live-player--open"),H.classList.contains("live-player--mobile")&&H.classList.remove("live-player--mobile"),s(),setTimeout(k,1e3),H.style.right=window.innerWidth>=1385||this.document.documentElement.clientWidth>=1385||this.document.body.clientWidth>=1385?"calc(50% - 700px)":"0"}function o(){D.classList.toggle("mobile-nav--open")}function p(a){var b=document.querySelector(this.getAttribute("data-target")),c=this.innerText,d=this.getAttribute("data-alt-text");a.preventDefault(),b.style.display="none"!=b.style.display?"none":"block",this.innerText=d,this.setAttribute("data-alt-text",c)}function q(){J.classList.toggle("open"),I.classList.toggle("open")}function r(){var a=this.querySelector(".live-player__stream--name").textContent;K.textContent=a,document.dispatchEvent(new CustomEvent("live-player-stream-changed",{detail:a}))}function s(){D.classList.contains("live-player--open")?(document.body.style.overflow="hidden",E.style.overflow="hidden"):(document.body.style.overflow="initial",E.style.overflow="initial")}function t(){window.innerWidth<=767&&(D.classList.toggle("live-player--open"),s())}function u(){window.innerWidth<=767&&(D.classList.contains("live-player--open")&&D.classList.remove("live-player--open"),s())}function v(){window.innerWidth<=767&&(D.classList.add("live-player--active"),P.style.display="block",O.style.display="none",N.style.display="none")}function w(){window.innerWidth<=767&&(D.classList.remove("live-player--active"),P.style.display="none",O.style.display="block",N.style.display="block")}function x(){window.innerWidth<=767?null!=H&&m():null!=H&&(n(),f(window,bb,function(){nb(),ob()}),l())}function y(a){null!==U&&(a.preventDefault(),Z.addClass("is-visible"),C(U).toggleClass("header__search--open").on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){W.focus(),C(W).select()}))}function z(a){null!==U&&U.classList.contains("header__search--open")&&(a.preventDefault(),U.classList.remove("header__search--open"),Z.removeClass("is-visible"))}function A(){var a=jQuery(document.querySelector(".header__nav--list")),b=jQuery(document.querySelector(".header__secondary")),c=jQuery(document.querySelector(".overlay-mask"));a.on("mouseover",".menu-item-has-children, .header__account--small",function(){c.addClass("is-visible")}),a.on("mouseout",".menu-item-has-children, .header__account--small",function(){c.removeClass("is-visible")}),b.on("mouseover",".header__account--small, .header__account--large.logged-in",function(){c.addClass("is-visible")}),b.on("mouseout",".header__account--small, .header__account--large.logged-in",function(){c.removeClass("is-visible")})}function B(){var a=jQuery(".person-toggle");start=jQuery(".personality__meta").first().height(),a.on("click",function(){var a=C(this);$parent=a.parent().parent(".personality"),$meta=a.siblings(".personality__meta"),curr=$meta.height(),auto=$meta.css("height","auto").height(),offset="",$parent.toggleClass("open"),a.text(a.hasClass("active")?"More":"Less"),a.toggleClass("active")})}var C=jQuery,D=document.querySelector("body"),E=document.querySelector("html"),F=document.querySelector(".mobile-nav__toggle"),G=(document.getElementById("page-wrap"),document.getElementById("header")),H=document.getElementById("live-player__sidebar"),I=document.querySelector(".live-player__stream"),J=document.querySelector(".live-player__stream--current"),K=J.querySelector(".live-player__stream--current-name"),L=J.querySelectorAll(".live-player__stream--item"),M=32,N=document.getElementById("on-air"),O=document.getElementById("up-next"),P=document.getElementById("nowPlaying"),Q=document.getElementById("live-links"),R=(document.querySelector(".live-link__title"),document.querySelector(".widget--live-player")),S=document.getElementById("live-player"),T=(this.innerWidth||this.document.documentElement.clientWidth||this.document.body.clientWidth||0,{}),U=document.getElementById("header__search--form"),V=document.getElementById("header__search"),W=document.getElementById("header-search"),X=document.querySelector('*[data-toggle="collapse"]'),Y=document.getElementById("breaking-news-banner"),Z=C(".overlay-mask"),$="click",ab="load",bb="scroll",cb="resize",db=function(a,b,c){this.btn=a,this.elemHide=b,this.elemDisplay=c};db.prototype.playAction=function(){var a=this;f(a.btn,$,function(){a.elemHide.style.display="none",a.elemDisplay.style.display="inline-block"})};var eb,fb,gb,hb,ib,jb,kb,lb;hb=document.getElementById("playButton"),ib=document.getElementById("pauseButton"),jb=document.getElementById("resumeButton"),kb=document.getElementById("live-stream__listen-now"),lb=document.getElementById("live-stream__now-playing"),eb=new db(hb,kb,lb),fb=new db(ib,lb,kb),gb=new db(jb,kb,lb),f(F,$,o),null!=X&&f(X,$,p),f(J,$,q);for(var mb=0;mb<L.length;mb++)f(L[mb],$,r);null!==V&&(V.addEventListener("click",y,!1),U.addEventListener("click",function(a){a.stopPropagation()})),C(window).keydown(function(a){27===a.keyCode&&z(a)}),Z.click(function(a){z(a)});var nb=_.debounce(k,50),ob=_.throttle(k,50),pb=_.debounce(x,50),qb=_.throttle(x,50);window.innerWidth>=768&&(f(window,ab,function(){g(),null!=R&&l()}),f(window,bb,function(){nb(),ob()})),null!=N&&f(N,$,t),null!=O&&f(O,$,t),null!=P&&f(P,$,t),null!=R&&f(R,$,u),(null!=hb||null!=jb)&&(f(hb,$,v),f(jb,$,v)),null!=ib&&f(ib,$,w),f(window,cb,function(){pb(),qb()}),A(),jQuery(function(a){a(".popup").on("click",function(b){b.preventDefault();var c=screen.width/2-350,d=screen.height/2-225;window.open(a(this).attr("href"),a(this).attr("href"),"height=485,width=700,scrollbars=yes, resizable=yes,left="+c+",top="+d)})}),B()}();