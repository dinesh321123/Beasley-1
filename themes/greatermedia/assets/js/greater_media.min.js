!function(jQuery){function a(){d.on("click.greaterMedia.Menus","a.show-subnavigation",c),d.on("click.greaterMedia.Menus","a.mobile-menu-submenu-back-link",b)}function b(a){a.preventDefault(),jQuery(this).parents(".sub-menu").removeClass("is-visible")}function c(a){a.preventDefault(),d.find(".is-visible").removeClass("is-visible"),jQuery(this).siblings(".sub-menu").addClass("is-visible")}var d=jQuery(document.querySelectorAll("ul.js-mobile-sub-menus"));a()}(jQuery,window),function(a){var b=function(){};b.prototype={run:function(){var b=a(".header__account--container");b.append(this.getMenu());var c=a(".header__account--btn");c.attr("href",this.getAvatarLink());var d=this.getThumbnailURL();if(d){var e=a("<img />",{src:d});c.html(e)}},getAvatarLink:function(){var a=is_gigya_user_logged_in()?"account":"login";return gigya_profile_path(a)},getThumbnailURL:function(){return get_gigya_user_field("thumbnailURL")},getMenu:function(){for(var b,c,d,e=this.getMenuLabels(),f=e.length,g=a('<ul class="header__account--links sub-menu"></ul>'),h=0;f>h;h++)d=e[h],b=a("<li></li>"),c=a("<a></a>",{href:gigya_profile_path(d.endpoint)}),c.text(d.label),b.append(c),g.append(b);return g},getMenuLabels:function(){var a;return a=is_gigya_user_logged_in()?[{label:"Edit Account",endpoint:"account"},{label:"Logout",endpoint:"logout"}]:[{label:"Login/Register",endpoint:"login"}]}},a(document).ready(function(){var a=new b;a.run()})}(jQuery),function(a){var b=a(window),c=function(){var c,d=a(".shows__schedule--day"),e=a("#wpadminbar").outerHeight();c=function(){var c=b.scrollTop();d.each(function(){var b,d=a(this),f=d.find(".shows__schedule--dayofweek"),g=d.offset().top,h=d.offset().left,i=d.height()+d.offset().top,j=f.height();c+e>=g?(d.addClass("fixed"),b=c+e+j>=i?i-c-j:e,f.width(d.width()).css({top:b+"px",left:h+"px"})):(d.removeClass("fixed"),f.width("auto").css({top:"0px",left:"0px"}))})},b.resize(c),b.scroll(c),c()};a(document).bind("pjax:end",c).ready(c)}(jQuery),function(a,b){var c,d=a(document),e={},f=null,g=b.href;c=function(a){return a.replace(/[\?\#].*$/g,"")},d.bind("pjax:popstate",function(){f=c(g)}),d.bind("pjax:beforeSend",function(){f=c(b.href)}),d.bind("pjax:end",function(d,h,i){var j=a("body"),k=!1,l=new RegExp('<body.*?class="(.*?)"',"im");e[f]=j.attr("class"),h?(k=l.exec(h.responseText),k&&k.length>=2&&j.attr("class",k[1])):j.attr("class",e[c(i.url)]),g=b.href})}(jQuery,location),function(){function a(a){return a==B&&null!=U&&U.parentNode!=B?a.offsetHeight+U.offsetHeight:a.offsetHeight}function b(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function c(){E.classList.toggle("open")}function d(){var a=this.querySelector(".live-player__stream--name").textContent;F.textContent=a,document.dispatchEvent(new CustomEvent("live-player-stream-changed",{detail:a}))}function e(){y.classList.contains("logged-in")?(C.style.top=H+a(B)+"px",C.style.height=O-H-a(B)+"px",L.style.height=O-H-a(B)-a(E)-a(N)-36+"px"):(C.style.top=a(B)+"px",C.style.height=O-a(B)+"px",L.style.height=O-a(B)-a(E)-a(N)-36+"px"),C.classList.remove("live-player--fixed"),C.classList.add("live-player--init")}function f(){y.classList.contains("logged-in")?(C.style.top=a(B)+H+"px",L.style.height=O-H-a(E)-a(N)-36+"px"):(C.style.top=a(B)+"px",L.style.height=O-a(E)-a(N)-36+"px"),C.style.height="100%",C.classList.remove("live-player--fixed"),C.classList.add("live-player--init")}function g(){y.classList.contains("logged-in")?(C.style.top=H+"px",C.style.height=O-H+"px",L.style.height=O-H-a(E)-a(N)-36+"px"):(C.style.top="0px",C.style.height=O+"px",L.style.height=O-a(E)-a(N)-36+"px"),C.classList.remove("live-player--init"),C.classList.add("live-player--fixed")}function h(){C.style.height="100%"}function i(){window.innerWidth>=768&&(P={x:window.pageXOffset,y:window.pageYOffset},0===P.y?e():P.y>=1&&P.y<=a(B)?f():P.y>=a(B)?g():h())}function j(){window.innerWidth>=768&&(L.style.height=y.classList.contains("logged-in")?O-a(B)-H-a(E)-a(N)-36+"px":O-a(B)-a(E)-a(N)-36+"px",M.style.height=a(M)+"px")}function k(){null!=C&&(C.classList.contains("live-player--init")&&C.classList.remove("live-player--init"),C.classList.contains("live-player--fixed")&&C.classList.remove("live-player--fixed"),C.classList.add("live-player--mobile"))}function l(){y.classList.contains("live-player--open")&&y.classList.remove("live-player--open"),C.classList.contains("live-player--mobile")&&C.classList.remove("live-player--mobile"),o(),setTimeout(i,1e3),C.style.right=window.innerWidth>=1385||this.document.documentElement.clientWidth>=1385||this.document.body.clientWidth>=1385?"calc(50% - 700px)":"0"}function m(a){var b=document.querySelector(this.getAttribute("data-target")),c=this.innerText,d=this.getAttribute("data-alt-text");a.preventDefault(),b.style.display="none"!=b.style.display?"none":"block",this.innerText=d,this.setAttribute("data-alt-text",c)}function n(){y.classList.toggle("mobile-nav--open")}function m(a){var b=document.querySelector(this.getAttribute("data-target")),c=this.innerText,d=this.getAttribute("data-alt-text");a.preventDefault(),b.style.display="none"!=b.style.display?"none":"block",this.innerText=d,this.setAttribute("data-alt-text",c)}function c(){E.classList.toggle("open"),D.classList.toggle("open")}function d(){var a=this.querySelector(".live-player__stream--name").textContent;F.textContent=a,document.dispatchEvent(new CustomEvent("live-player-stream-changed",{detail:a}))}function o(){y.classList.contains("live-player--open")?(document.body.style.overflow="hidden",z.style.overflow="hidden"):(document.body.style.overflow="initial",z.style.overflow="initial")}function p(){window.innerWidth<=767&&(y.classList.toggle("live-player--open"),o())}function q(){window.innerWidth<=767&&(y.classList.contains("live-player--open")&&y.classList.remove("live-player--open"),o())}function r(){window.innerWidth<=767&&(y.classList.add("live-player--active"),K.style.display="block",J.style.display="none",I.style.display="none")}function s(){window.innerWidth<=767&&(y.classList.remove("live-player--active"),K.style.display="none",J.style.display="block",I.style.display="block")}function t(){window.innerWidth<=767&&null!=C&&k(),window.innerWidth>=768&&null!=C&&(l(),b(window,X,function(){jb(),kb()}))}function u(a){null!==Q&&(a.preventDefault(),Q.classList.toggle("header__search--open"),S.focus())}function v(a){null!==Q&&Q.classList.contains("header__search--open")&&(a.preventDefault(),Q.classList.remove("header__search--open"))}function w(){var a=jQuery(document.querySelector(".header__nav--list")),b=jQuery(document.querySelector(".header__secondary")),c=jQuery(document.querySelector(".overlay-mask"));a.on("mouseover",".menu-item-has-children, .header__account--small",function(){c.addClass("is-visible")}),a.on("mouseout",".menu-item-has-children, .header__account--small",function(){c.removeClass("is-visible")}),b.on("mouseover",".header__account--small",function(){c.addClass("is-visible")}),b.on("mouseout",".header__account--small",function(){c.removeClass("is-visible")})}function x(){var a=jQuery(".person-toggle");start=jQuery(".personality__meta").first().height(),a.on("click",function(){var a=$(this);$parent=a.parent().parent(".personality"),$meta=a.siblings(".personality__meta"),curr=$meta.height(),auto=$meta.css("height","auto").height(),offset="",$parent.toggleClass("open"),a.text(a.hasClass("active")?"More":"Less"),a.toggleClass("active")})}var y=document.querySelector("body"),z=document.querySelector("html"),A=document.querySelector(".mobile-nav__toggle"),B=(document.getElementById("page-wrap"),document.getElementById("header")),C=document.getElementById("live-player__sidebar"),D=document.querySelector(".live-player__stream"),E=document.querySelector(".live-player__stream--current"),F=E.querySelector(".live-player__stream--current-name"),G=E.querySelectorAll(".live-player__stream--item"),H=32,I=document.getElementById("on-air"),J=document.getElementById("up-next"),K=document.getElementById("nowPlaying"),L=document.getElementById("live-links"),M=(document.querySelector(".live-link__title"),document.querySelector(".widget--live-player")),N=document.getElementById("live-player"),O=Math.max(document.documentElement.clientHeight,window.innerHeight||0),P=(this.innerWidth||this.document.documentElement.clientWidth||this.document.body.clientWidth||0,{}),Q=document.getElementById("header__search--form"),R=document.getElementById("header__search"),S=document.getElementById("header-search"),T=document.querySelector('*[data-toggle="collapse"]'),U=document.getElementById("breaking-news-banner"),V="click",W="load",X="scroll",Y="resize";b(E,V,c);for(var Z=0;Z<G.length;Z++)b(G[Z],V,d);if(!document.getElementById("popup-player-livestream")){var ab=function(a,b,c){this.btn=a,this.elemHide=b,this.elemDisplay=c};ab.prototype.playAction=function(){var a=this;b(a.btn,V,function(){a.elemHide.style.display="none",a.elemDisplay.style.display="inline-block"})},null!=T&&b(T,V,m);var bb,cb,db,eb,fb,gb,hb,ib;eb=document.getElementById("playButton"),fb=document.getElementById("pauseButton"),gb=document.getElementById("resumeButton"),hb=document.getElementById("live-stream__listen-now"),ib=document.getElementById("live-stream__now-playing"),bb=new ab(eb,hb,ib),cb=new ab(fb,ib,hb),db=new ab(gb,hb,ib),b(A,V,n),null!=T&&b(T,V,m),b(E,V,c);for(var Z=0;Z<G.length;Z++)b(G[Z],V,d);null!==R&&(R.addEventListener("click",u,!1),Q.addEventListener("click",function(a){a.stopPropagation()})),window.onkeydown=function(a){27===a.keyCode&&v()};var jb=_.debounce(i,50),kb=_.throttle(i,50),lb=_.debounce(t,50),mb=_.throttle(t,50);window.innerWidth>=768&&(b(window,W,function(){e(),null!=M&&j()}),b(window,X,function(){jb(),kb()})),null!=I&&b(I,V,p),null!=J&&b(J,V,p),null!=K&&b(K,V,p),null!=M&&b(M,V,q),(null!=eb||null!=gb)&&(b(eb,V,r),b(gb,V,r)),null!=fb&&b(fb,V,s),b(window,Y,function(){lb(),mb()}),w(),jQuery(function(a){a(".popup").on("click",function(b){b.preventDefault();var c=screen.width/2-350,d=screen.height/2-225;window.open(a(this).attr("href"),a(this).attr("href"),"height=485,width=700,scrollbars=yes, resizable=yes,left="+c+",top="+d)})}),x()}}();