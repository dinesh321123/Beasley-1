!function(jQuery){function a(){d.on("click.greaterMedia.Menus","a.show-subnavigation",c),d.on("click.greaterMedia.Menus","a.mobile-menu-submenu-back-link",b)}function b(a){a.preventDefault(),jQuery(this).parents(".sub-menu").removeClass("is-visible")}function c(a){a.preventDefault(),d.find(".is-visible").removeClass("is-visible"),jQuery(this).siblings(".sub-menu").addClass("is-visible")}var d=jQuery(document.querySelectorAll("ul.js-mobile-sub-menus"));a()}(jQuery,window),function(){function a(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function b(){H={x:window.pageXOffset,y:window.pageYOffset},0===H.y?(o.classList.contains("logged-in")?(t.style.top=s+y+"px",t.style.height=G-y-s+"px",C.style.height=G-s-y-v-F-36+"px"):(t.style.top=s+"px",t.style.height=G-s+"px",C.style.height=G-s-v-F-36+"px"),t.classList.remove("live-player--fixed"),t.classList.add("live-player--init")):H.y>=1&&H.y<=s?(o.classList.contains("logged-in")?(t.style.top=s+y+"px",C.style.height=G-y-v-F-36+"px"):(t.style.top=s+"px",C.style.height=G-v-F-36+"px"),t.style.height="100%",t.classList.remove("live-player--fixed"),t.classList.add("live-player--init")):H.y>=s?(o.classList.contains("logged-in")?(t.style.top=y+"px",t.style.height=G-y+"px",C.style.height=G-y-v-F-36+"px"):(t.style.top="0px",t.style.height=G+"px",C.style.height=G-v-F-36+"px"),t.classList.remove("live-player--init"),t.classList.add("live-player--fixed")):t.style.height="100%"}function c(){o.classList.contains("logged-in")?(t.style.top=s+y+"px",t.style.height=G-y-s+"px"):(t.style.top=s+"px",t.style.height=G-s+"px"),t.classList.remove("live-player--fixed"),t.classList.add("live-player--init")}function d(){var a=D.offsetHeight;C.style.height=o.classList.contains("logged-in")?G-s-y-v-F-36+"px":G-s-v-F-36+"px",D.style.height=a+"px"}function e(){o.classList.toggle("mobile-nav--open")}function f(){u.classList.toggle("open")}function g(){var a=this.querySelector(".live-player__stream--name").textContent;w.textContent=a,document.dispatchEvent(new CustomEvent("live-player-stream-changed",{detail:a}))}function h(){o.classList.toggle("live-player--open"),o.classList.contains("live-player--open")?(document.body.style.overflow="hidden",p.style.overflow="hidden"):(document.body.style.overflow="auto",p.style.overflow="auto")}function i(){o.classList.toggle("live-player--open"),o.classList.contains("live-player--open")?(o.style.overflow="hidden",p.style.overflow="hidden"):(o.style.overflow="auto",p.style.overflow="auto")}function j(){o.classList.toggle("live-player--open"),o.classList.contains("live-player--open")?(o.style.overflow="auto",p.style.overflow="auto"):(o.style.overflow="hidden",p.style.overflow="hidden")}function k(){o.classList.contains("live-player--open")&&o.classList.remove("live-player--open")}function l(){if(window.innerWidth<=767){if(null!=z&&a(z,L,h),null!=A&&a(A,L,i),null!=B&&a(B,L,j),null!=T||null!=V){var b;b=function(){o.classList.add("live-player--active"),B.style.display="block",A.style.display="none",z.style.display="none"},a(T,L,b),a(V,L,b)}null!=U&&a(U,L,function(){o.classList.remove("live-player--active"),B.style.display="none",A.style.display="block",z.style.display="block"}),null!=D&&a(D,L,k)}window.innerWidth>=768&&a(window,M,c)}function m(){null!==I&&(I.classList.toggle("header__search--open"),K.focus())}function n(){null!==I&&I.classList.contains("header__search--open")&&I.classList.remove("header__search--open")}var o=document.querySelector("body"),p=document.querySelector("html"),q=document.querySelector(".mobile-nav__toggle"),r=(document.getElementById("page-wrap"),document.getElementById("header")),s=r.offsetHeight,t=document.getElementById("live-player__sidebar"),u=document.querySelector(".live-player__stream--current"),v=u.offsetHeight,w=u.querySelector(".live-player__stream--current-name"),x=u.querySelectorAll(".live-player__stream--item"),y=32,z=document.getElementById("on-air"),A=document.getElementById("up-next"),B=document.getElementById("nowPlaying"),C=document.getElementById("live-links"),D=(document.querySelector(".live-link__title"),document.querySelector(".widget--live-player")),E=document.getElementById("live-player"),F=E.offsetHeight,G=Math.max(document.documentElement.clientHeight,window.innerHeight||0),H=(this.innerWidth||this.document.documentElement.clientWidth||this.document.body.clientWidth||0,{}),I=document.getElementById("header__search--form"),J=document.getElementById("header__search"),K=document.getElementById("header-search"),L="click",M="load",N="scroll",O="resize",P=function(a,b,c){this.btn=a,this.elemHide=b,this.elemDisplay=c};P.prototype.playAction=function(){var b=this;a(b.btn,L,function(){b.elemHide.style.display="none",b.elemDisplay.style.display="inline-block"})};var Q,R,S,T,U,V,W,X;T=document.getElementById("playButton"),U=document.getElementById("pauseButton"),V=document.getElementById("resumeButton"),W=document.getElementById("live-stream__listen-now"),X=document.getElementById("live-stream__now-playing"),Q=new P(T,W,X),R=new P(U,X,W),S=new P(V,W,X),a(q,L,e),a(u,L,f);for(var Y=0;Y<x.length;Y++)a(x[Y],L,g);null!==J&&(J.addEventListener("click",m,!1),I.addEventListener("click",function(a){a.stopPropagation()})),window.onkeydown=function(a){27===a.keyCode&&n()};var Z=_.debounce(b,50),$=_.throttle(b,50),ab=_.debounce(l,50),bb=_.throttle(l,50);window.innerWidth<=767?(null!=z&&a(z,L,h),null!=A&&a(A,L,i),null!=B&&a(B,L,j),null!=D&&a(D,L,k),a(window,O,function(){ab(),bb()})):(a(window,M,function(){c(),null!=D&&d()}),a(window,N,function(){Z(),$()}))}();