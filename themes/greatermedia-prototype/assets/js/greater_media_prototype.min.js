/*! Greater Media Prototype - v0.1.0 - 2014-10-08
 * http://wordpress.org/themes
 * Copyright (c) 2014; * Licensed GPLv2+ */
(function(i){"use strict";i.console.log("prototype js running");var e=function(i){this.session=i,this.session.on("change",$.proxy(this.didSessionChange,this)),this.container=$(".account"),this.container.on("click",$.proxy(this.didContainerClick,this))};e.prototype={render:function(){var i=this.session.isAuthorized();$(".login").css("visibility","visible"),$(".register").css("visibility",i?"hidden":"visible"),i?$(".login").text("Logout"):$(".login").text("Login")},didContainerClick:function(i){var e=$(i.target).attr("class");switch(e){case"register":return this.showRegisterScreen(),!1;case"login":return this.session.isAuthorized()?this.showLogoutScreen():this.showLoginScreen(),!1}},didSessionChange:function(){this.render()},showScreenSet:function(i){gigya.accounts.showScreenSet({screenSet:"GMR-RegistrationLogin",startScreen:i})},showLoginScreen:function(){this.showScreenSet("gigya-login-screen")},showRegisterScreen:function(){this.session.willRegister=!0,this.showScreenSet("gigya-register-screen")},showLogoutScreen:function(){gigya.accounts.logout({cid:this.session.get_cid(),callback:$.proxy(this.refresh,this)})},refresh:function(){location.reload()}},$(document).ready(function(){var s=i.gigya_session_data||{data:{}};s=s.data;var t=new GigyaSession(s);new e(t),t.authorize()})})(this);