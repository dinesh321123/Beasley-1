/*! GreaterMedia Keywords - v0.0.1
 * http://wordpress.org/plugins
 * Copyright (c) 2015; * Licensed GPLv2+ */
(function(){"use strict";function e(e){this.keywords=e}e.prototype.search=function(e){if(e=this.normalize_search_term(e),!e.length)return[];var t=this,r=_.filter(this.keywords,function(r){return 0===t.normalize_search_term(r.keyword).indexOf(t.normalize_search_term(e))});return r},e.prototype.normalize_search_term=function(e){return e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"")},jQuery(function(t){var r=6,n=new e(GMRKeywords),a=t("#header-search"),i=t(".overlay-mask"),o=_.template(t("#keyword-search-item-template").html()),s=_.template(t("#keyword-search-body-template").html()),d=t("#keyword-search-container");d.hide(),d.append(t(s()));var c=d.find(".keyword-search__header"),l=d.find(".keyword-search__items");d.find(".keyword-search__btn").click(function(){t("#header-search").parent("form").submit()}),a.on("keyup",function(){var e=n.search(t(this).val());return e&&e.length?(e=e.slice(0,r),c.html(e.length>1?e.length+" keyword matches found":"1 keyword match found"),l.empty(),_.each(e,function(e){l.append(t(o(e)))}),d.show(),i.addClass("is-visible"),undefined):(d.hide(),i.removeClass("is-visible"),undefined)})})})(this);