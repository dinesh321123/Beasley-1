/*! GreaterMedia Keywords - v0.0.1
 * http://wordpress.org/plugins
 * Copyright (c) 2015; * Licensed GPLv2+ */
(function(){"use strict";function e(e){this.keywords=e}e.prototype.search=function(e){if(e=this.normalize_search_term(e),!e.length)return[];var t=this,r=_.filter(this.keywords,function(r){return 0===t.normalize_search_term(r.keyword).indexOf(t.normalize_search_term(e))});return r},e.prototype.normalize_search_term=function(e){return e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"")},jQuery(function(t){var r=6,n=new e(GMRKeywords),a=t("#header-search"),o=_.template(t("#keyword-search-item-template").html()),i=_.template(t("#keyword-search-body-template").html()),s=t("#keyword-search-container");s.hide(),s.append(t(i()));var d=s.find(".keyword-search__header"),c=s.find(".keyword-search__items");s.find(".keyword-search__btn").click(function(){t("#header-search").parent("form").submit()}),console.log("setting up"),a.on("keyup",function(){var e=n.search(t(this).val());return e&&e.length?(e=e.slice(0,r),d.html(e.length>1?e.length+" keyword matches found":"1 keyword match found"),c.empty(),_.each(e,function(e){c.append(t(o(e)))}),s.show(),undefined):(s.hide(),undefined)})})})(this);