/*! GreaterMedia Keywords - v0.0.1
 * http://wordpress.org/plugins
 * Copyright (c) 2015; * Licensed GPLv2+ */
(function(){"use strict";jQuery(function(e){e(".post-search").each(function(){function t(t){a.addClass("is-loading"),e.getJSON(ajaxurl,{action:"greater_media/keywords/get_posts",s:t}).done(function(t){s.empty(),_.each(t.data,function(t){s.append(e(n(t)))}),a.removeClass("is-loading")})}var a=e(this),s=e(".post-search__list"),n=_.template(e(".post-search__list-item-template").html());e("#linked_content_search").keyup(_.debounce(function(){t(e(this).val())},500)),t("")}),e(".submitdelete").on("click",function(t){t.preventDefault();var a=e(this),s=a.data("postid");jQuery.ajax({type:"post",url:ajax_data.ajaxurl,data:{action:"delete_keyword",post_id:s,delete_key_nonce:ajax_data.delete_key_nonce},success:function(t){t?a.closest("tr").addClass("delete").hide("drop"):e(".form-table").first().prepend('<div id="message" class="error"><p>Something gone wrong! Keyword is not deleted!</p></div>')}})})})})(this);