!function(a,b){"undefined"!=typeof module&&module.exports?module.exports.browser=b():"function"==typeof define&&define.amd?define(b):this[a]=b()}("bowser",function(){function a(a){function c(b){var c=a.match(b);return c&&c.length>1&&c[1]||""}var d,e=c(/(ipod|iphone|ipad)/i).toLowerCase(),f=/like android/i.test(a),g=!f&&/android/i.test(a),h=c(/version\/(\d+(\.\d+)?)/i),i=/tablet/i.test(a),j=!i&&/[^-]mobi/i.test(a);/opera|opr/i.test(a)?d={name:"Opera",opera:b,version:h||c(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(a)?d={name:"Windows Phone",windowsphone:b,msie:b,version:c(/iemobile\/(\d+(\.\d+)?)/i)}:/msie|trident/i.test(a)?d={name:"Internet Explorer",msie:b,version:c(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:/chrome|crios|crmo/i.test(a)?d={name:"Chrome",chrome:b,version:c(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:e?(d={name:"iphone"==e?"iPhone":"ipad"==e?"iPad":"iPod"},h&&(d.version=h)):/sailfish/i.test(a)?d={name:"Sailfish",sailfish:b,version:c(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(a)?d={name:"SeaMonkey",seamonkey:b,version:c(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(a)?(d={name:"Firefox",firefox:b,version:c(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(a)&&(d.firefoxos=b)):/silk/i.test(a)?d={name:"Amazon Silk",silk:b,version:c(/silk\/(\d+(\.\d+)?)/i)}:g?d={name:"Android",version:h}:/phantom/i.test(a)?d={name:"PhantomJS",phantom:b,version:c(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(a)||/rim\stablet/i.test(a)?d={name:"BlackBerry",blackberry:b,version:h||c(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(a)?(d={name:"WebOS",webos:b,version:h||c(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(a)&&(d.touchpad=b)):d=/bada/i.test(a)?{name:"Bada",bada:b,version:c(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(a)?{name:"Tizen",tizen:b,version:c(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||h}:/safari/i.test(a)?{name:"Safari",safari:b,version:h}:{},/(apple)?webkit/i.test(a)?(d.name=d.name||"Webkit",d.webkit=b,!d.version&&h&&(d.version=h)):!d.opera&&/gecko\//i.test(a)&&(d.name=d.name||"Gecko",d.gecko=b,d.version=d.version||c(/gecko\/(\d+(\.\d+)?)/i)),g||d.silk?d.android=b:e&&(d[e]=b,d.ios=b);var k="";e?(k=c(/os (\d+([_\s]\d+)*) like mac os x/i),k=k.replace(/[_\s]/g,".")):g?k=c(/android[ \/-](\d+(\.\d+)*)/i):d.windowsphone?k=c(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):d.webos?k=c(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):d.blackberry?k=c(/rim\stablet\sos\s(\d+(\.\d+)*)/i):d.bada?k=c(/bada\/(\d+(\.\d+)*)/i):d.tizen&&(k=c(/tizen[\/\s](\d+(\.\d+)*)/i)),k&&(d.osversion=k);var l=k.split(".")[0];return i||"ipad"==e||g&&(3==l||4==l&&!j)||d.silk?d.tablet=b:(j||"iphone"==e||"ipod"==e||g||d.blackberry||d.webos||d.bada)&&(d.mobile=b),d.msie&&d.version>=10||d.chrome&&d.version>=20||d.firefox&&d.version>=20||d.safari&&d.version>=6||d.opera&&d.version>=10||d.ios&&d.osversion&&d.osversion.split(".")[0]>=6||d.blackberry&&d.version>=10.1?d.a=b:d.msie&&d.version<10||d.chrome&&d.version<20||d.firefox&&d.version<20||d.safari&&d.version<6||d.opera&&d.version<10||d.ios&&d.osversion&&d.osversion.split(".")[0]<6?d.c=b:d.x=b,d}var b=!0,c=a("undefined"!=typeof navigator?navigator.userAgent:"");return c._detect=a,c}),function(a){"use strict";function b(a,b){return Math.round(a/b)*b}function c(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)}function d(a){var b=Math.pow(10,7);return Number((Math.round(a*b)/b).toFixed(7))}function e(a,b,c){a.addClass(b),setTimeout(function(){a.removeClass(b)},c)}function f(a){return Math.max(Math.min(a,100),0)}function g(b){return a.isArray(b)?b:[b]}function h(a){var b=a.split(".");return b.length>1?b[1].length:0}function i(a,b){return 100/(b-a)}function j(a,b){return 100*b/(a[1]-a[0])}function k(a,b){return j(a,a[0]<0?b+Math.abs(a[0]):b-a[0])}function l(a,b){return b*(a[1]-a[0])/100+a[0]}function m(a,b){for(var c=1;a>=b[c];)c+=1;return c}function n(a,b,c){if(c>=a.slice(-1)[0])return 100;var d,e,f,g,h=m(c,a);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],f+k([d,e],c)/i(f,g)}function o(a,b,c){if(c>=100)return a.slice(-1)[0];var d,e,f,g,h=m(c,b);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],l([d,e],(c-f)*i(f,g))}function p(a,c,d,e){if(100===e)return e;var f,g,h=m(e,a);return d?(f=a[h-1],g=a[h],e-f>(g-f)/2?g:f):c[h-1]?a[h-1]+b(e-a[h-1],c[h-1]):e}function q(a,b,d){var e;if("number"==typeof b&&(b=[b]),"[object Array]"!==Object.prototype.toString.call(b))throw new Error("noUiSlider: 'range' contains invalid value.");if(e="min"===a?0:"max"===a?100:parseFloat(a),!c(e)||!c(b[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");d.xPct.push(e),d.xVal.push(b[0]),e?d.xSteps.push(isNaN(b[1])?!1:b[1]):isNaN(b[1])||(d.xSteps[0]=b[1])}function r(a,b,c){return b?void(c.xSteps[a]=j([c.xVal[a],c.xVal[a+1]],b)/i(c.xPct[a],c.xPct[a+1])):!0}function s(a,b,c,d){this.xPct=[],this.xVal=[],this.xSteps=[d||!1],this.xNumSteps=[!1],this.snap=b,this.direction=c;var e,f=[];for(e in a)a.hasOwnProperty(e)&&f.push([a[e],e]);for(f.sort(function(a,b){return a[0]-b[0]}),e=0;e<f.length;e++)q(f[e][1],f[e][0],this);for(this.xNumSteps=this.xSteps.slice(0),e=0;e<this.xNumSteps.length;e++)r(e,this.xNumSteps[e],this)}function t(a,b){if(!c(b))throw new Error("noUiSlider: 'step' is not numeric.");a.singleStep=b}function u(b,c){if("object"!=typeof c||a.isArray(c))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===c.min||void 0===c.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");b.spectrum=new s(c,b.snap,b.dir,b.singleStep)}function v(b,c){if(c=g(c),!a.isArray(c)||!c.length||c.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");b.handles=c.length,b.start=c}function w(a,b){if(a.snap=b,"boolean"!=typeof b)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function x(a,b){if(a.animate=b,"boolean"!=typeof b)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function y(a,b){if("lower"===b&&1===a.handles)a.connect=1;else if("upper"===b&&1===a.handles)a.connect=2;else if(b===!0&&2===a.handles)a.connect=3;else{if(b!==!1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");a.connect=0}}function z(a,b){switch(b){case"horizontal":a.ort=0;break;case"vertical":a.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function A(a,b){if(!c(b))throw new Error("noUiSlider: 'margin' option must be numeric.");if(a.margin=a.spectrum.getMargin(b),!a.margin)throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function B(a,b){if(!c(b))throw new Error("noUiSlider: 'limit' option must be numeric.");if(a.limit=a.spectrum.getMargin(b),!a.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function C(a,b){switch(b){case"ltr":a.dir=0;break;case"rtl":a.dir=1,a.connect=[0,2,1,3][a.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function D(a,b){if("string"!=typeof b)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var c=b.indexOf("tap")>=0,d=b.indexOf("drag")>=0,e=b.indexOf("fixed")>=0,f=b.indexOf("snap")>=0;a.events={tap:c||f,drag:d,fixed:e,snap:f}}function E(a,b){if(a.format=b,"function"==typeof b.to&&"function"==typeof b.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function F(b){var c,d={margin:0,limit:0,animate:!0,format:V};return c={step:{r:!1,t:t},start:{r:!0,t:v},connect:{r:!0,t:y},direction:{r:!0,t:C},snap:{r:!1,t:w},animate:{r:!1,t:x},range:{r:!0,t:u},orientation:{r:!1,t:z},margin:{r:!1,t:A},limit:{r:!1,t:B},behaviour:{r:!0,t:D},format:{r:!1,t:E}},b=a.extend({connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"},b),a.each(c,function(a,c){if(void 0===b[a]){if(c.r)throw new Error("noUiSlider: '"+a+"' is required.");return!0}c.t(d,b[a])}),d.style=d.ort?"top":"left",d}function G(a,b,c){var d=a+b[0],e=a+b[1];return c?(0>d&&(e+=Math.abs(d)),e>100&&(d-=e-100),[f(d),f(e)]):[d,e]}function H(a){a.preventDefault();var b,c,d=0===a.type.indexOf("touch"),e=0===a.type.indexOf("mouse"),f=0===a.type.indexOf("pointer"),g=a;return 0===a.type.indexOf("MSPointer")&&(f=!0),a.originalEvent&&(a=a.originalEvent),d&&(b=a.changedTouches[0].pageX,c=a.changedTouches[0].pageY),(e||f)&&(f||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),b=a.clientX+window.pageXOffset,c=a.clientY+window.pageYOffset),g.points=[b,c],g.cursor=e,g}function I(b,c){var d=a("<div><div/></div>").addClass(U[2]),e=["-lower","-upper"];return b&&e.reverse(),d.children().addClass(U[3]+" "+U[3]+e[c]),d}function J(a,b,c){switch(a){case 1:b.addClass(U[7]),c[0].addClass(U[6]);break;case 3:c[1].addClass(U[6]);case 2:c[0].addClass(U[7]);case 0:b.addClass(U[6])}}function K(a,b,c){var d,e=[];for(d=0;a>d;d+=1)e.push(I(b,d).appendTo(c));return e}function L(b,c,d){return d.addClass([U[0],U[8+b],U[4+c]].join(" ")),a("<div/>").appendTo(d).addClass(U[1])}function M(b,c,d){function i(){return C[["width","height"][c.ort]]()}function j(a){var b,c=[E.val()];for(b=0;b<a.length;b+=1)E.trigger(a[b],c)}function k(a){return 1===a.length?a[0]:c.dir?a.reverse():a}function l(a){return function(b,c){E.val([a?null:c,a?c:null],!0)}}function m(b){var c=a.inArray(b,N);E[0].linkAPI&&E[0].linkAPI[b]&&E[0].linkAPI[b].change(M[c],D[c].children(),E)}function n(b,d){var e=a.inArray(b,N);return d&&d.appendTo(D[e].children()),c.dir&&c.handles>1&&(e=1===e?0:1),l(e)}function o(){var a,b;for(a=0;a<N.length;a+=1)this.linkAPI&&this.linkAPI[b=N[a]]&&this.linkAPI[b].reconfirm(b)}function p(a,b,d,e){return a=a.replace(/\s/g,S+" ")+S,b.on(a,function(a){return E.attr("disabled")?!1:E.hasClass(U[14])?!1:(a=H(a),a.calcPoint=a.points[c.ort],void d(a,e))})}function q(a,b){var c,d=b.handles||D,e=!1,f=100*(a.calcPoint-b.start)/i(),g=d[0][0]!==D[0][0]?1:0;c=G(f,b.positions,d.length>1),e=v(d[0],c[g],1===d.length),d.length>1&&(e=v(d[1],c[g?0:1],!1)||e),e&&j(["slide"])}function r(b){a("."+U[15]).removeClass(U[15]),b.cursor&&a("body").css("cursor","").off(S),Q.off(S),E.removeClass(U[12]),j(["set","change"])}function s(b,c){1===c.handles.length&&c.handles[0].children().addClass(U[15]),b.stopPropagation(),p(T.move,Q,q,{start:b.calcPoint,handles:c.handles,positions:[F[0],F[D.length-1]]}),p(T.end,Q,r,null),b.cursor&&(a("body").css("cursor",a(b.target).css("cursor")),D.length>1&&E.addClass(U[12]),a("body").on("selectstart"+S,!1))}function t(b){var d,f=b.calcPoint,g=0;b.stopPropagation(),a.each(D,function(){g+=this.offset()[c.style]}),g=g/2>f||1===D.length?0:1,f-=C.offset()[c.style],d=100*f/i(),c.events.snap||e(E,U[14],300),v(D[g],d),j(["slide","set","change"]),c.events.snap&&s(b,{handles:[D[g]]})}function u(a){var b,c;if(!a.fixed)for(b=0;b<D.length;b+=1)p(T.start,D[b].children(),s,{handles:[D[b]]});a.tap&&p(T.start,C,t,{handles:D}),a.drag&&(c=C.find("."+U[7]).addClass(U[10]),a.fixed&&(c=c.add(C.children().not(c).children())),p(T.start,c,s,{handles:D}))}function v(a,b,d){var e=a[0]!==D[0][0]?1:0,g=F[0]+c.margin,h=F[1]-c.margin,i=F[0]+c.limit,j=F[1]-c.limit;return D.length>1&&(b=e?Math.max(b,g):Math.min(b,h)),d!==!1&&c.limit&&D.length>1&&(b=e?Math.min(b,i):Math.max(b,j)),b=I.getStep(b),b=f(parseFloat(b.toFixed(7))),b===F[e]?!1:(a.css(c.style,b+"%"),a.is(":first-child")&&a.toggleClass(U[17],b>50),F[e]=b,M[e]=I.fromStepping(b),m(N[e]),!0)}function w(a,b){var d,e,f;for(c.limit&&(a+=1),d=0;a>d;d+=1)e=d%2,f=b[e],null!==f&&f!==!1&&("number"==typeof f&&(f=String(f)),f=c.format.from(f),(f===!1||isNaN(f)||v(D[e],I.toStepping(f),d===3-c.dir)===!1)&&m(N[e]))}function x(a){if(E[0].LinkIsEmitting)return this;var b,d=g(a);return c.dir&&c.handles>1&&d.reverse(),c.animate&&-1!==F[0]&&e(E,U[14],300),b=D.length>1?3:1,1===d.length&&(b=1),w(b,d),j(["set"]),this}function y(){var a,b=[];for(a=0;a<c.handles;a+=1)b[a]=c.format.to(M[a]);return k(b)}function z(){return a(this).off(S).removeClass(U.join(" ")).empty(),delete this.LinkUpdate,delete this.LinkConfirm,delete this.LinkDefaultFormatter,delete this.LinkDefaultFlag,delete this.reappend,delete this.vGet,delete this.vSet,delete this.getCurrentStep,delete this.getInfo,delete this.destroy,d}function A(){var b=a.map(F,function(a,b){var c=I.getApplicableStep(a),d=h(String(c[2])),e=M[b],f=100===a?null:c[2],g=Number((e-c[2]).toFixed(d)),i=0===a?null:g>=c[1]?c[2]:c[0]||!1;return[[i,f]]});return k(b)}function B(){return d}var C,D,E=a(b),F=[-1,-1],I=c.spectrum,M=[],N=["lower","upper"].slice(0,c.handles);if(c.dir&&N.reverse(),b.LinkUpdate=m,b.LinkConfirm=n,b.LinkDefaultFormatter=c.format,b.LinkDefaultFlag="lower",b.reappend=o,E.hasClass(U[0]))throw new Error("Slider was already initialized.");C=L(c.dir,c.ort,E),D=K(c.handles,c.dir,C),J(c.connect,E,D),u(c.events),b.vSet=x,b.vGet=y,b.destroy=z,b.getCurrentStep=A,b.getOriginalOptions=B,b.getInfo=function(){return[I,c.style,c.ort]},E.val(c.start)}function N(a){var b=F(a,this);return this.each(function(){M(this,b,a)})}function O(b){return this.each(function(){if(!this.destroy)return void a(this).noUiSlider(b);var c=a(this).val(),d=this.destroy(),e=a.extend({},d,b);a(this).noUiSlider(e),this.reappend(),d.start===e.start&&a(this).val(c)})}function P(){return this[0][arguments.length?"vSet":"vGet"].apply(this[0],arguments)}var Q=a(document),R=a.fn.val,S=".nui",T=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},U=["noUi-target","noUi-base","noUi-origin","noUi-handle","noUi-horizontal","noUi-vertical","noUi-background","noUi-connect","noUi-ltr","noUi-rtl","noUi-dragable","","noUi-state-drag","","noUi-state-tap","noUi-active","","noUi-stacking"];s.prototype.getMargin=function(a){return 2===this.xPct.length?j(this.xVal,a):!1},s.prototype.toStepping=function(a){return a=n(this.xVal,this.xPct,a),this.direction&&(a=100-a),a},s.prototype.fromStepping=function(a){return this.direction&&(a=100-a),d(o(this.xVal,this.xPct,a))},s.prototype.getStep=function(a){return this.direction&&(a=100-a),a=p(this.xPct,this.xSteps,this.snap,a),this.direction&&(a=100-a),a},s.prototype.getApplicableStep=function(a){var b=m(a,this.xPct),c=100===a?2:1;return[this.xNumSteps[b-2],this.xVal[b-c],this.xNumSteps[b-c]]},s.prototype.convert=function(a){return this.getStep(this.toStepping(a))};var V={to:function(a){return a.toFixed(2)},from:Number};a.fn.val=function(b){function c(a){return a.hasClass(U[0])?P:R}if(!arguments.length){var d=a(this[0]);return c(d).call(d)}var e=a.isFunction(b);return this.each(function(d){var f=b,g=a(this);e&&(f=b.call(this,d,g.val())),c(g).call(g,f)})},a.fn.noUiSlider=function(a,b){switch(a){case"step":return this[0].getCurrentStep();case"options":return this[0].getOriginalOptions()}return(b?O:N).call(this,a)}}(window.jQuery||window.Zepto);var $=jQuery;!function(){function a(a,b){var c=this;c.gg=a,c.player=b,c.is_playing=!1}var b;window.bindNielsenSDKEvents=function(f,g){var h=g.addEventListener?!0:!1,i={"track-cue-point":d,"ad-break-cue-point":c,"stream-stop":e};b=new a(f,g);for(var j in i)h?g.addEventListener(j,i[j]):g.attachEvent(j,i[j])};var c=function(a){var c=a.data.adBreakData;b.is_playing&&e(),f("Send ad block cue metadata event to Nielsen SDK."),b.gg.ggPM(15,{assetid:c.cueID,title:c.cueTitle,length:c.duration/1e3,type:"midroll"}),f("Send playhead position event to Nielsen SDK."),b.gg.ggPM(49,Date.now()/1e3),b.is_playing=!0},d=function(a){var c=a.data.cuePoint;b.is_playing&&e(),f("Send track cue metadata event to Nielsen SDK."),b.gg.ggPM(15,{assetid:c.cueID,title:c.cueTitle,length:c.cueTimeDuration,type:"content"}),f("Send playhead position event to Nielsen SDK."),b.gg.ggPM(49,Date.now()/1e3),b.is_playing=!0},e=function(){b.is_playing&&(f("Send stop event to Nielsen SDK."),b.gg.ggPM(7,Date.now()/1e3),b.is_playing=!1)},f=function(a){gmr.debug&&console&&console.log(a)}}(),function(a,b){"use strict";function c(){is_gigya_user_logged_in()?a.support.pjax&&a(d).pjax("a:not(.ab-item)",".main",{fragment:".main",maxCacheLength:500,timeout:1e4}):gmr.wpLoggedIn&&a.support.pjax&&a(d).pjax("a:not(.ab-item)",".page-wrap",{fragment:".page-wrap",maxCacheLength:500,timeout:1e4})}var d=b.document,e=(d.querySelectorAll("body"),a("#playButton")),f=(a("#pauseButton"),a("#resumeButton")),g=a("#live-stream__listen-now"),h=a("#live-stream__login"),i=a(".header__account--btn");e.on("click",function(){c()}),f.on("click",function(){c()}),e.on("click",function(){is_gigya_user_logged_in()||(Cookies.set("gmlp_play_button_pushed",1),Cookies.set("gmr_play_live_audio",0))}),h.on("click",function(){is_gigya_user_logged_in()||(Cookies.set("gmlp_play_button_pushed",1),Cookies.set("gmr_play_live_audio",0))}),g.on("click",function(){is_gigya_user_logged_in()||(Cookies.set("gmlp_play_button_pushed",1),Cookies.set("gmr_play_live_audio",0))}),i.on("click",function(){is_gigya_user_logged_in()||Cookies.set("gmr_play_live_audio",0)})}(jQuery,window),function(a,b,c){"use strict";function d(a,b,c){null!=a&&(a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c))}function e(){var b=gmr.intervals.live_streaming;b>0&&(ab("Live stream interval set"),Pb=setInterval(function(){a(sb).trigger("liveStreamPlaying.gmr"),ab("Live stream interval reached")},60*b*1e3))}function f(){var b=gmr.intervals.inline_audio;b>0&&(ab("Inline audio interval set"),Ob=setInterval(function(){a(sb).trigger("inlineAudioPlaying.gmr"),ab("Inline audio interval reached")},60*b*1e3))}function g(){clearInterval(Pb),ab("Live stream interval off")}function h(){clearInterval(Ob),ab("Inline audio interval off")}function i(){return bowser.firefox?["Flash","Html5"]:bowser.safari?["Html5","Flash"]:bowser.chrome?["Flash","Html5"]:["Html5","Flash"]}function j(){var a=i();ab("+++ initPlayer - techPriority = "+a.join(", "));var c={coreModules:[{id:"MediaPlayer",playerId:"td_container",isDebug:!1,techPriority:a,timeShift:{active:0,max_listening_time:35},geoTargeting:{desktop:{isActive:!1},iOS:{isActive:!1},android:{isActive:!1}},plugins:[{id:"vastAd"}]},{id:"NowPlayingApi"},{id:"Npe"},{id:"PlayerWebAdmin"},{id:"SyncBanners",elements:[{id:"td_synced_bigbox",width:300,height:250}]},{id:"TargetSpot"}]};require(["tdapi/base/util/Companions"],function(a){ob=new a}),b.player=ib=new TdPlayerApi(c),ib.addEventListener?(ib.addEventListener("player-ready",D),ib.addEventListener("configuration-error",S),ib.addEventListener("module-error",T)):ib.attachEvent&&(ib.attachEvent("player-ready",D),ib.attachEvent("configuration-error",S),ib.attachEvent("module-error",T)),ib.loadModules()}function k(){null!=xb&&d(xb,Tb,B),null!=yb&&d(yb,Tb,A),null!=Ib&&d(Ib,Tb,bb)}function l(){null!==tb&&(tb.classList.add("stream__active"),wb.classList.add(!0===pb&&b.innerWidth<=767?"live-player__login":"live-player__muted"),yb.classList.contains("live-player__muted")||yb.classList.add("live-player__muted"),yb.classList.contains("resume__live")&&yb.classList.remove("resume__live"),!0===pb?(Eb.style.display="none",Db.style.display="inline-block"):(Eb.style.display="inline-block",Db.style.display="none"),!1===pb&&null!=zb&&zb.classList.add("loading"),!0===pb&&null!=xb?xb.classList.contains("live-player__muted")&&xb.classList.remove("live-player__muted"):xb.classList.add("live-player__muted"))}function m(){null!==tb&&(yb.classList.contains("live-player__muted")&&(yb.classList.remove("live-player__muted"),yb.classList.add("resume__live")),Db.style.display="inline-block",Eb.style.display="none",xb.classList.add("live-player__muted"))}function n(){null!==tb&&(wb.classList.add(!0===pb&&b.innerWidth<=767?"live-player__login":"live-player__muted"),sb.classList.contains("live-player--active")&&sb.classList.remove("live-player--active"),Db.style.display="inline-block",Eb.style.display="none",xb.classList.add("live-player__muted"),yb.classList.contains("live-player__muted")&&(yb.classList.remove("live-player__muted"),yb.classList.add("resume__live")),yb.classList.add("resume__audio"))}function o(){var a,b=document.querySelectorAll(".audio__time");for(a=0;a<b.length;++a)b[a].classList.add("playing");null!=vb&&vb.classList.add("audio__playing"),null!=Kb&&Kb.classList.add("audio__playing"),null!=ub&&ub.classList.add("playing"),null!=Lb&&Lb.classList.add("playing"),null!=Db&&setTimeout(function(){Db.innerHTML="Switch to Live Stream"},1e3)}function p(b){var c,d=b.target,e=d.parentNode,f=e.nextElementSibling,g=f.nextElementSibling,h=document.querySelectorAll(".audio__time"),i=document.querySelector(".podcast__runtime");if(a(".playing__current").removeClass("playing__current"),null!=Cb&&(sb.classList.contains("single-show")||sb.classList.contains("post-type-archive-podcast")||sb.classList.contains("single-podcast")))f.classList.add("playing__current"),g.classList.add("playing");else{for(c=0;c<h.length;++c)null!=h[c]&&(h[c].classList.add("playing"),h[c].classList.add("playing__current"));i.classList.add("playing")}}function q(){var a,b=document.querySelectorAll(".audio__time"),c=document.querySelectorAll(".podcast__runtime");for(a=0;a<b.length;++a)null!=b[a]&&b[a].classList.contains("playing")&&b[a].classList.remove("playing"),null!=b[a]&&b[a].classList.contains("playing__current")&&b[a].classList.remove("playing__current");for(null!=vb&&vb.classList.remove("audio__playing"),null!=Kb&&Kb.classList.remove("audio__playing"),null!=ub&&ub.classList.remove("playing"),a=0;a<c.length;++a)null!=c[a]&&c[a].classList.contains("playing")&&c[a].classList.remove("playing");null!=Lb&&Lb.classList.remove("playing")}function r(){b.innerWidth<=767&&(""===Mb.innerHTML?(Jb.classList.add("on-air__npe"),Nb.classList.add("full__width")):Jb.classList.contains("on-air__npe")&&(Jb.classList.remove("on-air__npe"),Nb.classList.remove("full__width")))}function s(){null!=wb&&wb.classList.add("play-btn--heartbeat"),null!=ub&&ub.classList.add("live-player--heartbeat")}function t(){null!=wb&&wb.classList.contains("play-btn--heartbeat")&&wb.classList.remove("play-btn--heartbeat"),null!=ub&&ub.classList.contains("live-player--heartbeat")&&ub.classList.remove("live-player--heartbeat")}function u(){Qb=1,ab("-- Player Initialized By Click ---")}function v(){Qb=!0,ab("-- Player Ready to Go ---")}function w(){is_gigya_user_logged_in()&&Qb===!0&&(m(),b.innerWidth>=768?z():y())}function x(){is_gigya_user_logged_in()?(null!=wb&&d(wb,Tb,function(){Qb===!0?(m(),b.innerWidth>=768?z():y()):u()}),null!=Db&&d(Db,Tb,Ub)):(null!=wb&&d(wb,"click",function(){b.location.href=Hb,v()}),null!=Db&&d(Db,"click",function(){b.location.href=Hb}),null!=Fb&&b.innerWidth<=767&&d(Fb,"click",function(){b.location.href=Hb}))}function y(){var a=gmr.callsign;return""===a?void alert("Please enter a Station"):(!0===pb&&Ub(),ab("playLiveStream - station="+a),nb&&ib.stop(),sb.classList.add("live-player--active"),ub.classList.add("live-player--active"),ib.play({station:a,timeShift:!0}),void l())}function z(){var a=gmr.callsign;if(db(),!0===pb)$b(),l();else{if(""===a)return void alert("Please enter a Station");ab("playLiveStream - station="+a),nb&&ib.stop(),sb.classList.add("live-player--active"),ub.classList.add("live-player--active"),ib.play({station:a,timeShift:!0}),l()}}function A(){if(db(),!0===pb)$b(),l();else{var a=gmr.callsign;if(""===a)return void alert("Please enter a Station");ab("playLiveStream - station="+a),nb&&ib.stop(),ub.classList.add("live-player--active"),ib.play({station:a,timeShift:!0}),l()}}function B(){!0===pb?(ac(),h()):(rb=!1,ib.pause(),g()),ub.classList.contains("live-player--active")&&ub.classList.remove("live-player--active"),n()}function C(){if(""===a("#songHistoryCallsignUser").val())return void alert("Please enter a Callsign");var b="hdConnection"==a("#songHistoryConnectionTypeSelect").val();ib.NowPlayingApi.load({mount:a("#songHistoryCallsignUser").val(),hd:b,numberToFetch:15})}function D(){if(ib.MediaPlayer!==c&&(k(),ib.addEventListener?(ib.addEventListener("track-cue-point",I),ib.addEventListener("ad-break-cue-point",L),ib.addEventListener("stream-track-change",J),ib.addEventListener("hls-cue-point",K),ib.addEventListener("stream-status",U),ib.addEventListener("stream-geo-blocked",V),ib.addEventListener("timeout-alert",Q),ib.addEventListener("timeout-reach",R),ib.addEventListener("stream-select",G),ib.addEventListener("stream-start",F),ib.addEventListener("stream-stop",H)):ib.attachEvent&&(ib.attachEvent("track-cue-point",I),ib.attachEvent("ad-break-cue-point",L),ib.attachEvent("stream-track-change",J),ib.attachEvent("hls-cue-point",K),ib.attachEvent("stream-status",U),ib.attachEvent("stream-geo-blocked",V),ib.attachEvent("timeout-alert",Q),ib.attachEvent("timeout-reach",R),ib.attachEvent("stream-select",G),ib.attachEvent("stream-start",F),ib.attachEvent("stream-stop",H)),ib.setVolume(1),W("Api Ready"),1===Qb?(v(),w()):1===Cookies.get("gmlp_play_button_pushed")?(v(),w()):v(),b.innerWidth>=768&&(s(),setTimeout(t,2e3)),X(ib.MediaPlayer.tech.type),ib.addEventListener?(ib.addEventListener("list-loaded",N),ib.addEventListener("list-empty",O),ib.addEventListener("nowplaying-api-error",P)):ib.attachEvent&&(ib.attachEvent("list-loaded",N),ib.attachEvent("list-empty",O),ib.attachEvent("nowplaying-api-error",P)),a("#fetchSongHistoryByUserCallsignButton").click(function(){C()}),ib.addEventListener?ib.addEventListener("pwa-data-loaded",Z):ib.attachEvent&&ib.attachEvent("pwa-data-loaded",Z),a("#pwaButton").click(function(){Y()}),Rb.noUiSlider({start:E(),range:{min:0,max:1}}),Rb.on("slide",function(){Sb=parseFloat(Rb.val()),isNaN(Sb)&&(Sb=1),nb&&ib.setVolume(Sb),"undefined"!=typeof localStorage&&localStorage.setItem("gmr-live-player-volume",Sb)}),b._nolggGlobalParams)){var d=new NOLCMB.ggInitialize(b._nolggGlobalParams);bindNielsenSDKEvents(d,ib)}}function E(){var a=Sb;return"undefined"!=typeof localStorage&&(a=localStorage.getItem("gmr-live-player-volume"),null===a?a=1:(a=parseFloat(a),isNaN(a)&&(a=1))),a}function F(){nb=!0,rb=!0,zb.classList.contains("loading")&&zb.classList.remove("loading"),xb.classList.contains("live-player__muted")&&xb.classList.remove("live-player__muted"),e(),ib.setVolume(E())}function G(){a("#hasHQ").html(ib.MediaPlayer.hasHQ().toString()),a("#isHQ").html(ib.MediaPlayer.isHQ().toString()),a("#hasLow").html(ib.MediaPlayer.hasLow().toString()),a("#isLow").html(ib.MediaPlayer.isLow().toString())}function H(){nb=!1,rb=!1,M(),a("#trackInfo").html(""),a("#asyncData").html(""),a("#hasHQ").html("N/A"),a("#isHQ").html("N/A"),a("#hasLow").html("N/A"),a("#isLow").html("N/A"),g()}function I(b){ab("New Track cuepoint received"),ab("Title: "+b.data.cuePoint.cueTitle+" - Artist: "+b.data.cuePoint.artistName),mb&&mb!=b.data.cuePoint&&M(),b.data.cuePoint.nowplayingURL&&ib.Npe.loadNpeMetadata(b.data.cuePoint.nowplayingURL,b.data.cuePoint.artistName,b.data.cuePoint.cueTitle),mb=b.data.cuePoint,a("#trackInfo").html('<div class="now-playing__title">'+mb.cueTitle+'</div><div class="now-playing__artist">'+mb.artistName+"</div>"),setTimeout(r,1e4),a(sb).trigger("liveAudioTrack.gmr")}function J(a){ab("Stream Track has changed"),ab("Codec:"+a.data.cuePoint.audioTrack.codec()+" - Bitrate:"+a.data.cuePoint.audioTrack.bitRate())}function K(a){ab("New HLS cuepoint received"),ab("Track Id:"+a.data.cuePoint.hlsTrackId+" SegmentId:"+a.data.cuePoint.hlsSegmentId)}function L(){W("Commercial break...")}function M(){a("#npeInfo").html(""),a("#asyncData").html("")}function N(b){ab("Song History loaded"),a("#asyncData").html('<br><p><span class="label label-warning">Song History:</span>');var c,d='<table class="table table-striped"><thead><tr><th>Song title</th><th>Artist name</th><th>Time</th></tr></thead>';a.each(b.data.list,function(a,b){c=new Date(Number(b.cueTimeStart)),d+="<tr><td>"+b.cueTitle+"</td><td>"+b.artistName+"</td><td>"+c.toLocaleTimeString()+"</td></tr>"}),d+="</table></p>",a("#asyncData").html("<div>"+d+"</div>")}function O(){a("#asyncData").html('<br><p><span class="label label-important">Song History is empty</span>')}function P(){ab("Song History loading error",!0),a("#asyncData").html('<br><p><span class="label label-important">Song History error</span>')}function Q(){ab("Time Out Alert")}function R(){ab("Time Out Reached")}function S(){ab("Configuration error",!0)}function T(b){var c="";a.each(b.data.errors,function(a,b){c+="ERROR : "+b.data.error.message+"<br/>"}),a("#status").html('<p><span class="label label-important">'+c+"</span><p></p>")}function U(a){ab("tdplayer::onStatus"),W(a.data.status)}function V(a){ab("tdplayer::onGeoBlocked"),W(a.data.text)}function W(b){ab(b),a("#status").html('<p><span class="label label-success">Status: '+b+"</span></p>")}function X(b){var c=ib.version.major+"."+ib.version.minor+"."+ib.version.patch+"."+ib.version.flag,d='<p><span class="label label-info">Api version: '+c+" - Technology: "+b;ib.flash.available&&(d+=" - Your current version of flash plugin is: "+ib.flash.version.major+"."+ib.flash.version.minor+"."+ib.flash.version.rev),d+="</span></p>",a("#techInfo").html(d)}function Y(){return""===a("#pwaCallsign").val()||""===a("#pwaStreamId").val()?void alert("Please enter a Callsign and a streamid"):void ib.PlayerWebAdmin.load(a("#pwaCallsign").val(),a("#pwaStreamId").val())}function Z(b){ab("PlayerWebAdmin data loaded successfully"),a("#asyncData").html('<br><p><span class="label label-warning">PlayerWebAdmin:</span>');var c='<table class="table table-striped"><thead><tr><th>Key</th><th>Value</th></tr></thead>';for(var d in b.data.config)c+="<tr><td>"+d+"</td><td>"+b.data.config[d]+"</td></tr>";c+="</table></p>",a("#asyncData").html("<div>"+c+"</div>")}function $(){for(var a,c=[],d=b.location.href.slice(b.location.href.indexOf("?")+1).split("&"),e=0;e<d.length;e++)a=d[e].split("="),c.push(a[0]),c[a[0]]=a[1];return c}function ab(c,d){gmr.debug&&(b.console&&(d?console.error(c):console.log(c)),a("#debugInformation").append(c),a("#debugInformation").append("\n"))}function bb(){a("#debugInformation").html("")}function cb(){if("undefined"!=typeof Modernizr&&Modernizr.audio){var b=document.querySelectorAll(".content"),c=a(b);c.on("click",".podcast__btn--play",function(b){var c=a(b.currentTarget);p(b),_b(c.attr("data-mp3-src")),Xb(),dc(c.attr("data-mp3-title"),c.attr("data-mp3-artist"),c.attr("data-mp3-hash"))}),c.on("click",".podcast__btn--pause",ac)}else{var d=a(".gmr-mediaelement-fallback audio"),e=a(".podcast__play");d.mediaelementplayer(),e.hide()}}function db(){is_gigya_user_logged_in()?a.support.pjax&&a(document).pjax("a:not(.ab-item)",".main",{fragment:".main",maxCacheLength:500,timeout:1e4}):gmr.wpLoggedIn&&a.support.pjax&&a(document).pjax("a:not(.ab-item)",".page-wrap",{fragment:".page-wrap",maxCacheLength:500,timeout:1e4})}function eb(a){rb===!0||!0===pb||a.preventDefault()}function fb(){var a,b=document.querySelectorAll(".audio__progress"),c=0;for(a=0;a<b.length;++a)qb.currentTime>0&&(c=Math.floor(100/qb.duration*qb.currentTime)),b[a].style.width=c+"%"}function gb(){var a,b,c,d=document.querySelectorAll(".audio__time--remaining"),e=parseInt(qb.duration),f=parseInt(qb.currentTime),g=e-f;for(a=0;a<d.length;++a)b=g%60,b=isNaN(b)?"00":10>b?"0"+b:b,c=Math.floor(g/60)%60,isNaN(c)&&(c="0"),d[a].innerHTML=c+":"+b}function hb(){var a,b=document.querySelectorAll(".audio__time--elapsed"),c=parseInt(qb.currentTime%60),d=parseInt(qb.currentTime/60%60);for(a=0;a<b.length;++a)b[a].innerHTML=10>c?d+":0"+c:d+":"+c}var ib,jb,kb,lb,mb,nb,ob,pb=($().tech||"html5_flash","false"==$().aSyncCuePointFallback?!1:!0,!1),qb=!1,rb=!1,sb=document.querySelector("body"),tb=document.getElementById("td_container"),ub=document.getElementById("live-player"),vb=document.querySelector(".live-stream__player"),wb=document.getElementById("playButton"),xb=document.getElementById("pauseButton"),yb=document.getElementById("resumeButton"),zb=document.getElementById("loadButton"),Ab=document.querySelector(".podcast__btn--play"),Bb=document.querySelector(".podcast__btn--pause"),Cb=document.querySelector(".podcast-player"),Db=document.getElementById("live-stream__listen-now"),Eb=document.getElementById("live-stream__now-playing"),Fb=document.getElementById("live-stream__login"),Gb=a(document.getElementById("trackInfo")),Hb=gigya_profile_path("login"),Ib=document.getElementById("clearDebug"),Jb=document.getElementById("on-air"),Kb=document.getElementById("live-stream__status"),Lb=document.getElementById("nowPlaying"),Mb=document.getElementById("trackInfo"),Nb=document.querySelector(".live-player__stream"),Ob=null,Pb=null,Qb=(document.querySelector(".footer"),!1),Rb=a(document.getElementById("live-player--volume")),Sb=1,Tb="click";
b.tdPlayerApiReady=function(){ab("--- TD Player API Loaded ---"),j()};var Ub=function(){var a=Db.textContent,c=document.getElementById("trackInfo"),d=document.getElementById("npeInfo");!0===pb&&(qb.pause(),c.innerHTML="",d.innerHTML="",Xb(),q(),pb=!1,h()),"Switch to Live Stream"===a&&(Db.innerHTML="Listen Live"),b.innerWidth>=768&&z()};a(document).ready(function(){x()});var Vb=a(".live-player__stream--current-name");Vb.bind("DOMSubtreeModified",function(){ab("--- new stream select ---");var a=Vb.text();nb&&ib.stop(),!0===pb&&Ub(),ib.play({station:a,timeShift:!0}),ub.classList.add("live-player--active"),l()});var Wb=function(){"undefined"!=typeof ib&&"undefined"!=typeof ib.stop&&ib.stop()},Xb=function(){a(".podcast__btn--play.playing").removeClass("playing"),a(".podcast__btn--pause.playing").removeClass("playing")},Yb=function(){var b=".mp3-"+lb;a(b+" .podcast__btn--play").addClass("playing"),a(b+" .podcast__btn--pause").addClass("playing")},Zb=function(a){qb.src=a},$b=function(){pb=!0,Wb(),qb.play(),bc(),cc(),Xb(),l(),Yb(),o(),f()},_b=function(a){db(),a!==qb.src&&Zb(a),$b()},ac=function(){qb.pause(),Xb(),pb=!1,n(),h()},bc=function(){var b=_.template('<div class="now-playing__title"><%- title %></div>'),c=a(".now-playing__title"),d='<div class="audio__title">',e='</div><div class="audio__time"><span class="audio__time--inline">(</span><div class="audio__time--elapsed"></div><span class="audio__time--inline"> / </span><div class="audio__time--remaining"></div><span class="audio__time--inline">)</span></div>';c.length>0?c.html(d+kb+e):Gb.prepend(b({title:kb}))},cc=function(){var b=_.template('<div class="now-playing__artist"><%- artist %></div>'),c=a(".now-playing__artist");c.length>0?c.text(jb):Gb.append(b({artist:jb}))},dc=function(a,b,c){kb=a,jb=b,lb=c,bc(),cc(),Yb()},ec=function(){"undefined"!=typeof Modernizr&&Modernizr.audio&&(qb=new Audio,qb.addEventListener?qb.addEventListener("ended",function(){Xb(),n(),h()}):qb.attachEvent&&qb.attachEvent("ended",function(){Xb(),n(),h()}))};a(document).bind("pjax:click",eb),ec(),cb(),qb.addEventListener("timeupdate",function(){fb(),hb(),gb()},!1),d(Ab,Tb,o),d(Bb,Tb,ac),a(document).on("pjax:end",function(){cb(),Yb(),d(Ab,Tb,o),d(Bb,Tb,ac)})}(jQuery,window);