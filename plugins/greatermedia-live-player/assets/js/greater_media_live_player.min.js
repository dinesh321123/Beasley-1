!function(a,b){"undefined"!=typeof module&&module.exports?module.exports.browser=b():"function"==typeof define&&define.amd?define(b):this[a]=b()}("bowser",function(){function a(a){function c(b){var c=a.match(b);return c&&c.length>1&&c[1]||""}var d,e=c(/(ipod|iphone|ipad)/i).toLowerCase(),f=/like android/i.test(a),g=!f&&/android/i.test(a),h=c(/version\/(\d+(\.\d+)?)/i),i=/tablet/i.test(a),j=!i&&/[^-]mobi/i.test(a);/opera|opr/i.test(a)?d={name:"Opera",opera:b,version:h||c(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(a)?d={name:"Windows Phone",windowsphone:b,msie:b,version:c(/iemobile\/(\d+(\.\d+)?)/i)}:/msie|trident/i.test(a)?d={name:"Internet Explorer",msie:b,version:c(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:/chrome|crios|crmo/i.test(a)?d={name:"Chrome",chrome:b,version:c(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:e?(d={name:"iphone"==e?"iPhone":"ipad"==e?"iPad":"iPod"},h&&(d.version=h)):/sailfish/i.test(a)?d={name:"Sailfish",sailfish:b,version:c(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(a)?d={name:"SeaMonkey",seamonkey:b,version:c(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(a)?(d={name:"Firefox",firefox:b,version:c(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(a)&&(d.firefoxos=b)):/silk/i.test(a)?d={name:"Amazon Silk",silk:b,version:c(/silk\/(\d+(\.\d+)?)/i)}:g?d={name:"Android",version:h}:/phantom/i.test(a)?d={name:"PhantomJS",phantom:b,version:c(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(a)||/rim\stablet/i.test(a)?d={name:"BlackBerry",blackberry:b,version:h||c(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(a)?(d={name:"WebOS",webos:b,version:h||c(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(a)&&(d.touchpad=b)):d=/bada/i.test(a)?{name:"Bada",bada:b,version:c(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(a)?{name:"Tizen",tizen:b,version:c(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||h}:/safari/i.test(a)?{name:"Safari",safari:b,version:h}:{},/(apple)?webkit/i.test(a)?(d.name=d.name||"Webkit",d.webkit=b,!d.version&&h&&(d.version=h)):!d.opera&&/gecko\//i.test(a)&&(d.name=d.name||"Gecko",d.gecko=b,d.version=d.version||c(/gecko\/(\d+(\.\d+)?)/i)),g||d.silk?d.android=b:e&&(d[e]=b,d.ios=b);var k="";e?(k=c(/os (\d+([_\s]\d+)*) like mac os x/i),k=k.replace(/[_\s]/g,".")):g?k=c(/android[ \/-](\d+(\.\d+)*)/i):d.windowsphone?k=c(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):d.webos?k=c(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):d.blackberry?k=c(/rim\stablet\sos\s(\d+(\.\d+)*)/i):d.bada?k=c(/bada\/(\d+(\.\d+)*)/i):d.tizen&&(k=c(/tizen[\/\s](\d+(\.\d+)*)/i)),k&&(d.osversion=k);var l=k.split(".")[0];return i||"ipad"==e||g&&(3==l||4==l&&!j)||d.silk?d.tablet=b:(j||"iphone"==e||"ipod"==e||g||d.blackberry||d.webos||d.bada)&&(d.mobile=b),d.msie&&d.version>=10||d.chrome&&d.version>=20||d.firefox&&d.version>=20||d.safari&&d.version>=6||d.opera&&d.version>=10||d.ios&&d.osversion&&d.osversion.split(".")[0]>=6||d.blackberry&&d.version>=10.1?d.a=b:d.msie&&d.version<10||d.chrome&&d.version<20||d.firefox&&d.version<20||d.safari&&d.version<6||d.opera&&d.version<10||d.ios&&d.osversion&&d.osversion.split(".")[0]<6?d.c=b:d.x=b,d}var b=!0,c=a("undefined"!=typeof navigator?navigator.userAgent:"");return c._detect=a,c}),function(a){"use strict";function b(a,b){return Math.round(a/b)*b}function c(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)}function d(a){var b=Math.pow(10,7);return Number((Math.round(a*b)/b).toFixed(7))}function e(a,b,c){a.addClass(b),setTimeout(function(){a.removeClass(b)},c)}function f(a){return Math.max(Math.min(a,100),0)}function g(b){return a.isArray(b)?b:[b]}function h(a){var b=a.split(".");return b.length>1?b[1].length:0}function i(a,b){return 100/(b-a)}function j(a,b){return 100*b/(a[1]-a[0])}function k(a,b){return j(a,a[0]<0?b+Math.abs(a[0]):b-a[0])}function l(a,b){return b*(a[1]-a[0])/100+a[0]}function m(a,b){for(var c=1;a>=b[c];)c+=1;return c}function n(a,b,c){if(c>=a.slice(-1)[0])return 100;var d,e,f,g,h=m(c,a);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],f+k([d,e],c)/i(f,g)}function o(a,b,c){if(c>=100)return a.slice(-1)[0];var d,e,f,g,h=m(c,b);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],l([d,e],(c-f)*i(f,g))}function p(a,c,d,e){if(100===e)return e;var f,g,h=m(e,a);return d?(f=a[h-1],g=a[h],e-f>(g-f)/2?g:f):c[h-1]?a[h-1]+b(e-a[h-1],c[h-1]):e}function q(a,b,d){var e;if("number"==typeof b&&(b=[b]),"[object Array]"!==Object.prototype.toString.call(b))throw new Error("noUiSlider: 'range' contains invalid value.");if(e="min"===a?0:"max"===a?100:parseFloat(a),!c(e)||!c(b[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");d.xPct.push(e),d.xVal.push(b[0]),e?d.xSteps.push(isNaN(b[1])?!1:b[1]):isNaN(b[1])||(d.xSteps[0]=b[1])}function r(a,b,c){return b?void(c.xSteps[a]=j([c.xVal[a],c.xVal[a+1]],b)/i(c.xPct[a],c.xPct[a+1])):!0}function s(a,b,c,d){this.xPct=[],this.xVal=[],this.xSteps=[d||!1],this.xNumSteps=[!1],this.snap=b,this.direction=c;var e,f=[];for(e in a)a.hasOwnProperty(e)&&f.push([a[e],e]);for(f.sort(function(a,b){return a[0]-b[0]}),e=0;e<f.length;e++)q(f[e][1],f[e][0],this);for(this.xNumSteps=this.xSteps.slice(0),e=0;e<this.xNumSteps.length;e++)r(e,this.xNumSteps[e],this)}function t(a,b){if(!c(b))throw new Error("noUiSlider: 'step' is not numeric.");a.singleStep=b}function u(b,c){if("object"!=typeof c||a.isArray(c))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===c.min||void 0===c.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");b.spectrum=new s(c,b.snap,b.dir,b.singleStep)}function v(b,c){if(c=g(c),!a.isArray(c)||!c.length||c.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");b.handles=c.length,b.start=c}function w(a,b){if(a.snap=b,"boolean"!=typeof b)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function x(a,b){if(a.animate=b,"boolean"!=typeof b)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function y(a,b){if("lower"===b&&1===a.handles)a.connect=1;else if("upper"===b&&1===a.handles)a.connect=2;else if(b===!0&&2===a.handles)a.connect=3;else{if(b!==!1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");a.connect=0}}function z(a,b){switch(b){case"horizontal":a.ort=0;break;case"vertical":a.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function A(a,b){if(!c(b))throw new Error("noUiSlider: 'margin' option must be numeric.");if(a.margin=a.spectrum.getMargin(b),!a.margin)throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function B(a,b){if(!c(b))throw new Error("noUiSlider: 'limit' option must be numeric.");if(a.limit=a.spectrum.getMargin(b),!a.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function C(a,b){switch(b){case"ltr":a.dir=0;break;case"rtl":a.dir=1,a.connect=[0,2,1,3][a.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function D(a,b){if("string"!=typeof b)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var c=b.indexOf("tap")>=0,d=b.indexOf("drag")>=0,e=b.indexOf("fixed")>=0,f=b.indexOf("snap")>=0;a.events={tap:c||f,drag:d,fixed:e,snap:f}}function E(a,b){if(a.format=b,"function"==typeof b.to&&"function"==typeof b.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function F(b){var c,d={margin:0,limit:0,animate:!0,format:V};return c={step:{r:!1,t:t},start:{r:!0,t:v},connect:{r:!0,t:y},direction:{r:!0,t:C},snap:{r:!1,t:w},animate:{r:!1,t:x},range:{r:!0,t:u},orientation:{r:!1,t:z},margin:{r:!1,t:A},limit:{r:!1,t:B},behaviour:{r:!0,t:D},format:{r:!1,t:E}},b=a.extend({connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"},b),a.each(c,function(a,c){if(void 0===b[a]){if(c.r)throw new Error("noUiSlider: '"+a+"' is required.");return!0}c.t(d,b[a])}),d.style=d.ort?"top":"left",d}function G(a,b,c){var d=a+b[0],e=a+b[1];return c?(0>d&&(e+=Math.abs(d)),e>100&&(d-=e-100),[f(d),f(e)]):[d,e]}function H(a){a.preventDefault();var b,c,d=0===a.type.indexOf("touch"),e=0===a.type.indexOf("mouse"),f=0===a.type.indexOf("pointer"),g=a;return 0===a.type.indexOf("MSPointer")&&(f=!0),a.originalEvent&&(a=a.originalEvent),d&&(b=a.changedTouches[0].pageX,c=a.changedTouches[0].pageY),(e||f)&&(f||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),b=a.clientX+window.pageXOffset,c=a.clientY+window.pageYOffset),g.points=[b,c],g.cursor=e,g}function I(b,c){var d=a("<div><div/></div>").addClass(U[2]),e=["-lower","-upper"];return b&&e.reverse(),d.children().addClass(U[3]+" "+U[3]+e[c]),d}function J(a,b,c){switch(a){case 1:b.addClass(U[7]),c[0].addClass(U[6]);break;case 3:c[1].addClass(U[6]);case 2:c[0].addClass(U[7]);case 0:b.addClass(U[6])}}function K(a,b,c){var d,e=[];for(d=0;a>d;d+=1)e.push(I(b,d).appendTo(c));return e}function L(b,c,d){return d.addClass([U[0],U[8+b],U[4+c]].join(" ")),a("<div/>").appendTo(d).addClass(U[1])}function M(b,c,d){function i(){return C[["width","height"][c.ort]]()}function j(a){var b,c=[E.val()];for(b=0;b<a.length;b+=1)E.trigger(a[b],c)}function k(a){return 1===a.length?a[0]:c.dir?a.reverse():a}function l(a){return function(b,c){E.val([a?null:c,a?c:null],!0)}}function m(b){var c=a.inArray(b,N);E[0].linkAPI&&E[0].linkAPI[b]&&E[0].linkAPI[b].change(M[c],D[c].children(),E)}function n(b,d){var e=a.inArray(b,N);return d&&d.appendTo(D[e].children()),c.dir&&c.handles>1&&(e=1===e?0:1),l(e)}function o(){var a,b;for(a=0;a<N.length;a+=1)this.linkAPI&&this.linkAPI[b=N[a]]&&this.linkAPI[b].reconfirm(b)}function p(a,b,d,e){return a=a.replace(/\s/g,S+" ")+S,b.on(a,function(a){return E.attr("disabled")?!1:E.hasClass(U[14])?!1:(a=H(a),a.calcPoint=a.points[c.ort],void d(a,e))})}function q(a,b){var c,d=b.handles||D,e=!1,f=100*(a.calcPoint-b.start)/i(),g=d[0][0]!==D[0][0]?1:0;c=G(f,b.positions,d.length>1),e=v(d[0],c[g],1===d.length),d.length>1&&(e=v(d[1],c[g?0:1],!1)||e),e&&j(["slide"])}function r(b){a("."+U[15]).removeClass(U[15]),b.cursor&&a("body").css("cursor","").off(S),Q.off(S),E.removeClass(U[12]),j(["set","change"])}function s(b,c){1===c.handles.length&&c.handles[0].children().addClass(U[15]),b.stopPropagation(),p(T.move,Q,q,{start:b.calcPoint,handles:c.handles,positions:[F[0],F[D.length-1]]}),p(T.end,Q,r,null),b.cursor&&(a("body").css("cursor",a(b.target).css("cursor")),D.length>1&&E.addClass(U[12]),a("body").on("selectstart"+S,!1))}function t(b){var d,f=b.calcPoint,g=0;b.stopPropagation(),a.each(D,function(){g+=this.offset()[c.style]}),g=g/2>f||1===D.length?0:1,f-=C.offset()[c.style],d=100*f/i(),c.events.snap||e(E,U[14],300),v(D[g],d),j(["slide","set","change"]),c.events.snap&&s(b,{handles:[D[g]]})}function u(a){var b,c;if(!a.fixed)for(b=0;b<D.length;b+=1)p(T.start,D[b].children(),s,{handles:[D[b]]});a.tap&&p(T.start,C,t,{handles:D}),a.drag&&(c=C.find("."+U[7]).addClass(U[10]),a.fixed&&(c=c.add(C.children().not(c).children())),p(T.start,c,s,{handles:D}))}function v(a,b,d){var e=a[0]!==D[0][0]?1:0,g=F[0]+c.margin,h=F[1]-c.margin,i=F[0]+c.limit,j=F[1]-c.limit;return D.length>1&&(b=e?Math.max(b,g):Math.min(b,h)),d!==!1&&c.limit&&D.length>1&&(b=e?Math.min(b,i):Math.max(b,j)),b=I.getStep(b),b=f(parseFloat(b.toFixed(7))),b===F[e]?!1:(a.css(c.style,b+"%"),a.is(":first-child")&&a.toggleClass(U[17],b>50),F[e]=b,M[e]=I.fromStepping(b),m(N[e]),!0)}function w(a,b){var d,e,f;for(c.limit&&(a+=1),d=0;a>d;d+=1)e=d%2,f=b[e],null!==f&&f!==!1&&("number"==typeof f&&(f=String(f)),f=c.format.from(f),(f===!1||isNaN(f)||v(D[e],I.toStepping(f),d===3-c.dir)===!1)&&m(N[e]))}function x(a){if(E[0].LinkIsEmitting)return this;var b,d=g(a);return c.dir&&c.handles>1&&d.reverse(),c.animate&&-1!==F[0]&&e(E,U[14],300),b=D.length>1?3:1,1===d.length&&(b=1),w(b,d),j(["set"]),this}function y(){var a,b=[];for(a=0;a<c.handles;a+=1)b[a]=c.format.to(M[a]);return k(b)}function z(){return a(this).off(S).removeClass(U.join(" ")).empty(),delete this.LinkUpdate,delete this.LinkConfirm,delete this.LinkDefaultFormatter,delete this.LinkDefaultFlag,delete this.reappend,delete this.vGet,delete this.vSet,delete this.getCurrentStep,delete this.getInfo,delete this.destroy,d}function A(){var b=a.map(F,function(a,b){var c=I.getApplicableStep(a),d=h(String(c[2])),e=M[b],f=100===a?null:c[2],g=Number((e-c[2]).toFixed(d)),i=0===a?null:g>=c[1]?c[2]:c[0]||!1;return[[i,f]]});return k(b)}function B(){return d}var C,D,E=a(b),F=[-1,-1],I=c.spectrum,M=[],N=["lower","upper"].slice(0,c.handles);if(c.dir&&N.reverse(),b.LinkUpdate=m,b.LinkConfirm=n,b.LinkDefaultFormatter=c.format,b.LinkDefaultFlag="lower",b.reappend=o,E.hasClass(U[0]))throw new Error("Slider was already initialized.");C=L(c.dir,c.ort,E),D=K(c.handles,c.dir,C),J(c.connect,E,D),u(c.events),b.vSet=x,b.vGet=y,b.destroy=z,b.getCurrentStep=A,b.getOriginalOptions=B,b.getInfo=function(){return[I,c.style,c.ort]},E.val(c.start)}function N(a){var b=F(a,this);return this.each(function(){M(this,b,a)})}function O(b){return this.each(function(){if(!this.destroy)return void a(this).noUiSlider(b);var c=a(this).val(),d=this.destroy(),e=a.extend({},d,b);a(this).noUiSlider(e),this.reappend(),d.start===e.start&&a(this).val(c)})}function P(){return this[0][arguments.length?"vSet":"vGet"].apply(this[0],arguments)}var Q=a(document),R=a.fn.val,S=".nui",T=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},U=["noUi-target","noUi-base","noUi-origin","noUi-handle","noUi-horizontal","noUi-vertical","noUi-background","noUi-connect","noUi-ltr","noUi-rtl","noUi-dragable","","noUi-state-drag","","noUi-state-tap","noUi-active","","noUi-stacking"];s.prototype.getMargin=function(a){return 2===this.xPct.length?j(this.xVal,a):!1},s.prototype.toStepping=function(a){return a=n(this.xVal,this.xPct,a),this.direction&&(a=100-a),a},s.prototype.fromStepping=function(a){return this.direction&&(a=100-a),d(o(this.xVal,this.xPct,a))},s.prototype.getStep=function(a){return this.direction&&(a=100-a),a=p(this.xPct,this.xSteps,this.snap,a),this.direction&&(a=100-a),a},s.prototype.getApplicableStep=function(a){var b=m(a,this.xPct),c=100===a?2:1;return[this.xNumSteps[b-2],this.xVal[b-c],this.xNumSteps[b-c]]},s.prototype.convert=function(a){return this.getStep(this.toStepping(a))};var V={to:function(a){return a.toFixed(2)},from:Number};a.fn.val=function(b){function c(a){return a.hasClass(U[0])?P:R}if(!arguments.length){var d=a(this[0]);return c(d).call(d)}var e=a.isFunction(b);return this.each(function(d){var f=b,g=a(this);e&&(f=b.call(this,d,g.val())),c(g).call(g,f)})},a.fn.noUiSlider=function(a,b){switch(a){case"step":return this[0].getCurrentStep();case"options":return this[0].getOriginalOptions()}return(b?O:N).call(this,a)}}(window.jQuery||window.Zepto);var $=jQuery;!function(a,b){"use strict";function c(){is_gigya_user_logged_in()?a.support.pjax&&a(d).pjax("a:not(.ab-item)",".main",{fragment:".main",maxCacheLength:500,timeout:1e4}):gmr.wpLoggedIn&&a.support.pjax&&a(d).pjax("a:not(.ab-item)",".page-wrap",{fragment:".page-wrap",maxCacheLength:500,timeout:1e4})}var d=b.document,e=(d.querySelectorAll("body"),a("#playButton")),f=(a("#pauseButton"),a("#resumeButton")),g=a("#live-stream__listen-now"),h=a("#live-stream__login"),i=a(".header__account--btn");e.on("click",function(){c()}),f.on("click",function(){c()}),e.on("click",function(){is_gigya_user_logged_in()||(Cookies.set("gmlp_play_button_pushed",1),Cookies.set("gmr_play_live_audio",0))}),h.on("click",function(){is_gigya_user_logged_in()||(Cookies.set("gmlp_play_button_pushed",1),Cookies.set("gmr_play_live_audio",0))}),g.on("click",function(){is_gigya_user_logged_in()||(Cookies.set("gmlp_play_button_pushed",1),Cookies.set("gmr_play_live_audio",0))}),i.on("click",function(){is_gigya_user_logged_in()||Cookies.set("gmr_play_live_audio",0)}),a(d).ready(function(){var c=a("#live-player--volume");c.noUiSlider({start:1,range:{min:0,max:1}}),c.on("slide",function(){var a=parseFloat(c.val());isNaN(a)||(b.player_volume=a,b.player&&b.player.setVolume(a))})})}(jQuery,window),function(a,b,c){"use strict";function d(a,b,c){null!=a&&(a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c))}function e(){var b=gmr.intervals.live_streaming;b>0&&(fb("Live stream interval set"),Vb=setInterval(function(){a(yb).trigger("liveStreamPlaying.gmr"),fb("Live stream interval reached")},60*b*1e3))}function f(){var b=gmr.intervals.inline_audio;b>0&&(fb("Inline audio interval set"),Ub=setInterval(function(){a(yb).trigger("inlineAudioPlaying.gmr"),fb("Inline audio interval reached")},60*b*1e3))}function g(){clearInterval(Vb),fb("Live stream interval off")}function h(){clearInterval(Ub),fb("Inline audio interval off")}function i(){return bowser.firefox?["Flash","Html5"]:bowser.safari?["Html5","Flash"]:bowser.chrome?["Flash","Html5"]:["Html5","Flash"]}function j(){var a=i();console.log("+++ initPlayer - techPriority = ",a);var c={coreModules:[{id:"MediaPlayer",playerId:"td_container",isDebug:!1,techPriority:a,timeShift:{active:0,max_listening_time:35},geoTargeting:{desktop:{isActive:!1},iOS:{isActive:!1},android:{isActive:!1}},plugins:[{id:"vastAd"}]},{id:"NowPlayingApi"},{id:"Npe"},{id:"PlayerWebAdmin"},{id:"SyncBanners",elements:[{id:"td_synced_bigbox",width:300,height:250}]},{id:"TargetSpot"}]};require(["tdapi/base/util/Companions"],function(a){ub=new a}),b.player=nb=new TdPlayerApi(c),nb.addEventListener?(nb.addEventListener("player-ready",D),nb.addEventListener("configuration-error",R),nb.addEventListener("module-error",S)):nb.attachEvent&&(nb.attachEvent("player-ready",D),nb.attachEvent("configuration-error",R),nb.attachEvent("module-error",S)),nb.loadModules()}function k(){null!=Db&&d(Db,Xb,B),null!=Eb&&d(Eb,Xb,A),null!=Ob&&d(Ob,Xb,gb)}function l(){null!==zb&&(zb.classList.add("stream__active"),Cb.classList.add(!0===vb&&b.innerWidth<=767?"live-player__login":"live-player__muted"),Eb.classList.contains("live-player__muted")||Eb.classList.add("live-player__muted"),Eb.classList.contains("resume__live")&&Eb.classList.remove("resume__live"),!0===vb?(Kb.style.display="none",Jb.style.display="inline-block"):(Kb.style.display="inline-block",Jb.style.display="none"),!1===vb&&null!=Fb&&Fb.classList.add("loading"),!0===vb&&null!=Db?Db.classList.contains("live-player__muted")&&Db.classList.remove("live-player__muted"):Db.classList.add("live-player__muted"))}function m(){null!==zb&&(Eb.classList.contains("live-player__muted")&&(Eb.classList.remove("live-player__muted"),Eb.classList.add("resume__live")),Jb.style.display="inline-block",Kb.style.display="none",Db.classList.add("live-player__muted"))}function n(){null!==zb&&(Cb.classList.add(!0===vb&&b.innerWidth<=767?"live-player__login":"live-player__muted"),yb.classList.contains("live-player--active")&&yb.classList.remove("live-player--active"),Jb.style.display="inline-block",Kb.style.display="none",Db.classList.add("live-player__muted"),Eb.classList.contains("live-player__muted")&&(Eb.classList.remove("live-player__muted"),Eb.classList.add("resume__live")),Eb.classList.add("resume__audio"))}function o(){var a,b=document.querySelectorAll(".audio__time");for(a=0;a<b.length;++a)b[a].classList.add("playing");null!=Bb&&Bb.classList.add("audio__playing"),null!=Qb&&Qb.classList.add("audio__playing"),null!=Ab&&Ab.classList.add("playing"),null!=Rb&&Rb.classList.add("playing"),null!=Jb&&setTimeout(function(){Jb.innerHTML="Switch to Live Stream"},1e3)}function p(b){var c,d=b.target,e=d.parentNode,f=e.nextElementSibling,g=f.nextElementSibling,h=document.querySelectorAll(".audio__time"),i=document.querySelector(".podcast__runtime");if(a(".playing__current").removeClass("playing__current"),null!=Ib&&(yb.classList.contains("single-show")||yb.classList.contains("post-type-archive-podcast")||yb.classList.contains("single-podcast")))f.classList.add("playing__current"),g.classList.add("playing");else{for(c=0;c<h.length;++c)null!=h[c]&&(h[c].classList.add("playing"),h[c].classList.add("playing__current"));i.classList.add("playing")}}function q(){var a,b=document.querySelectorAll(".audio__time"),c=document.querySelectorAll(".podcast__runtime");for(a=0;a<b.length;++a)null!=b[a]&&b[a].classList.contains("playing")&&b[a].classList.remove("playing"),null!=b[a]&&b[a].classList.contains("playing__current")&&b[a].classList.remove("playing__current");for(null!=Bb&&Bb.classList.remove("audio__playing"),null!=Qb&&Qb.classList.remove("audio__playing"),null!=Ab&&Ab.classList.remove("playing"),a=0;a<c.length;++a)null!=c[a]&&c[a].classList.contains("playing")&&c[a].classList.remove("playing");null!=Rb&&Rb.classList.remove("playing")}function r(){b.innerWidth<=767&&(""===Sb.innerHTML?(Pb.classList.add("on-air__npe"),Tb.classList.add("full__width")):Pb.classList.contains("on-air__npe")&&(Pb.classList.remove("on-air__npe"),Tb.classList.remove("full__width")))}function s(){null!=Cb&&Cb.classList.add("play-btn--heartbeat"),null!=Ab&&Ab.classList.add("live-player--heartbeat")}function t(){null!=Cb&&Cb.classList.contains("play-btn--heartbeat")&&Cb.classList.remove("play-btn--heartbeat"),null!=Ab&&Ab.classList.contains("live-player--heartbeat")&&Ab.classList.remove("live-player--heartbeat")}function u(){Wb=1,console.log("-- Player Initialized By Click ---")}function v(){Wb=!0,console.log("-- Player Ready to Go ---")}function w(){is_gigya_user_logged_in()&&Wb===!0&&(m(),b.innerWidth>=768?z():y())}function x(){is_gigya_user_logged_in()?(null!=Cb&&d(Cb,Xb,function(){Wb===!0?(m(),b.innerWidth>=768?z():y()):u()}),null!=Jb&&d(Jb,Xb,Yb)):(null!=Cb&&d(Cb,"click",function(){b.location.href=Nb,v()}),null!=Jb&&d(Jb,"click",function(){b.location.href=Nb}),null!=Lb&&b.innerWidth<=767&&d(Lb,"click",function(){b.location.href=Nb}))}function y(){var a=gmr.callsign;return""===a?void alert("Please enter a Station"):(!0===vb&&Yb(),fb("playLiveStream - station="+a),sb&&nb.stop(),yb.classList.add("live-player--active"),Ab.classList.add("live-player--active"),nb.play({station:a,timeShift:!0}),void l())}function z(){var a=gmr.callsign;if(ib(),!0===vb)dc(),l();else{if(""===a)return void alert("Please enter a Station");fb("playLiveStream - station="+a),sb&&nb.stop(),yb.classList.add("live-player--active"),Ab.classList.add("live-player--active"),nb.play({station:a,timeShift:!0}),l()}}function A(){if(ib(),!0===vb)dc(),l();else{var a=gmr.callsign;if(""===a)return void alert("Please enter a Station");fb("playLiveStream - station="+a),sb&&nb.stop(),Ab.classList.add("live-player--active"),nb.play({station:a,timeShift:!0}),l()}}function B(){!0===vb?(fc(),h()):(xb=!1,nb.pause(),g()),Ab.classList.contains("live-player--active")&&Ab.classList.remove("live-player--active"),n()}function C(){if(""===a("#songHistoryCallsignUser").val())return void alert("Please enter a Callsign");var b="hdConnection"==a("#songHistoryConnectionTypeSelect").val();nb.NowPlayingApi.load({mount:a("#songHistoryCallsignUser").val(),hd:b,numberToFetch:15})}function D(){nb.MediaPlayer!==c&&(k(),nb.addEventListener?(nb.addEventListener("track-cue-point",H),nb.addEventListener("ad-break-cue-point",K),nb.addEventListener("stream-track-change",I),nb.addEventListener("hls-cue-point",J),nb.addEventListener("stream-status",T),nb.addEventListener("stream-geo-blocked",U),nb.addEventListener("timeout-alert",P),nb.addEventListener("timeout-reach",Q),nb.addEventListener("npe-song",Z),nb.addEventListener("stream-select",F),nb.addEventListener("stream-start",E),nb.addEventListener("stream-stop",G)):nb.attachEvent&&(nb.attachEvent("track-cue-point",H),nb.attachEvent("ad-break-cue-point",K),nb.attachEvent("stream-track-change",I),nb.attachEvent("hls-cue-point",J),nb.attachEvent("stream-status",T),nb.attachEvent("stream-geo-blocked",U),nb.attachEvent("timeout-alert",P),nb.attachEvent("timeout-reach",Q),nb.attachEvent("npe-song",Z),nb.attachEvent("stream-select",F),nb.attachEvent("stream-start",E),nb.attachEvent("stream-stop",G)),nb.setVolume(b.player_volume||1),V("Api Ready"),1===Wb?(v(),w()):1===Cookies.get("gmlp_play_button_pushed")?(v(),w()):v(),b.innerWidth>=768&&(s(),setTimeout(t,2e3)),W(nb.MediaPlayer.tech.type),nb.addEventListener?(nb.addEventListener("list-loaded",M),nb.addEventListener("list-empty",N),nb.addEventListener("nowplaying-api-error",O)):nb.attachEvent&&(nb.attachEvent("list-loaded",M),nb.attachEvent("list-empty",N),nb.attachEvent("nowplaying-api-error",O)),a("#fetchSongHistoryByUserCallsignButton").click(function(){C()}),nb.addEventListener?nb.addEventListener("pwa-data-loaded",Y):nb.attachEvent&&nb.attachEvent("pwa-data-loaded",Y),a("#pwaButton").click(function(){X()}))}function E(){sb=!0,xb=!0,Fb.classList.contains("loading")&&Fb.classList.remove("loading"),Db.classList.contains("live-player__muted")&&Db.classList.remove("live-player__muted"),e()}function F(){a("#hasHQ").html(nb.MediaPlayer.hasHQ().toString()),a("#isHQ").html(nb.MediaPlayer.isHQ().toString()),a("#hasLow").html(nb.MediaPlayer.hasLow().toString()),a("#isLow").html(nb.MediaPlayer.isLow().toString())}function G(){sb=!1,xb=!1,L(),a("#trackInfo").html(""),a("#asyncData").html(""),a("#hasHQ").html("N/A"),a("#isHQ").html("N/A"),a("#hasLow").html("N/A"),a("#isLow").html("N/A"),g()}function H(b){fb("New Track cuepoint received"),fb("Title:"+b.data.cuePoint.cueTitle+" - Artist:"+b.data.cuePoint.artistName),console.log(b),rb&&rb!=b.data.cuePoint&&L(),b.data.cuePoint.nowplayingURL&&nb.Npe.loadNpeMetadata(b.data.cuePoint.nowplayingURL,b.data.cuePoint.artistName,b.data.cuePoint.cueTitle),rb=b.data.cuePoint,a("#trackInfo").html('<div class="now-playing__title">'+rb.cueTitle+'</div><div class="now-playing__artist">'+rb.artistName+"</div>"),setTimeout(r,1e4),a(yb).trigger("liveAudioTrack.gmr")}function I(a){fb("Stream Track has changed"),fb("Codec:"+a.data.cuePoint.audioTrack.codec()+" - Bitrate:"+a.data.cuePoint.audioTrack.bitRate())}function J(a){fb("New HLS cuepoint received"),fb("Track Id:"+a.data.cuePoint.hlsTrackId+" SegmentId:"+a.data.cuePoint.hlsSegmentId),console.log(a)}function K(a){V("Commercial break..."),console.log(a)}function L(){a("#npeInfo").html(""),a("#asyncData").html("")}function M(b){fb("Song History loaded"),console.log(b.data),a("#asyncData").html('<br><p><span class="label label-warning">Song History:</span>');var c,d='<table class="table table-striped"><thead><tr><th>Song title</th><th>Artist name</th><th>Time</th></tr></thead>';a.each(b.data.list,function(a,b){c=new Date(Number(b.cueTimeStart)),d+="<tr><td>"+b.cueTitle+"</td><td>"+b.artistName+"</td><td>"+c.toLocaleTimeString()+"</td></tr>"}),d+="</table></p>",a("#asyncData").html("<div>"+d+"</div>")}function N(){a("#asyncData").html('<br><p><span class="label label-important">Song History is empty</span>')}function O(b){fb("Song History loading error",!0),console.error(b),a("#asyncData").html('<br><p><span class="label label-important">Song History error</span>')}function P(){fb("Time Out Alert")}function Q(){fb("Time Out Reached")}function R(a){fb("Configuration error",!0),console.log(a)}function S(b){var c="";a.each(b.data.errors,function(a,b){c+="ERROR : "+b.data.error.message+"<br/>"}),a("#status").html('<p><span class="label label-important">'+c+"</span><p></p>")}function T(a){console.log("tdplayer::onStatus"),V(a.data.status)}function U(a){console.log("tdplayer::onGeoBlocked"),V(a.data.text)}function V(b){fb(b),a("#status").html('<p><span class="label label-success">Status: '+b+"</span></p>")}function W(b){var c=nb.version.major+"."+nb.version.minor+"."+nb.version.patch+"."+nb.version.flag,d='<p><span class="label label-info">Api version: '+c+" - Technology: "+b;nb.flash.available&&(d+=" - Your current version of flash plugin is: "+nb.flash.version.major+"."+nb.flash.version.minor+"."+nb.flash.version.rev),d+="</span></p>",a("#techInfo").html(d)}function X(){return""===a("#pwaCallsign").val()||""===a("#pwaStreamId").val()?void alert("Please enter a Callsign and a streamid"):void nb.PlayerWebAdmin.load(a("#pwaCallsign").val(),a("#pwaStreamId").val())}function Y(b){fb("PlayerWebAdmin data loaded successfully"),console.log(b),a("#asyncData").html('<br><p><span class="label label-warning">PlayerWebAdmin:</span>');var c='<table class="table table-striped"><thead><tr><th>Key</th><th>Value</th></tr></thead>';for(var d in b.data.config)console.log(d),c+="<tr><td>"+d+"</td><td>"+b.data.config[d]+"</td></tr>";c+="</table></p>",a("#asyncData").html("<div>"+c+"</div>")}function Z(a){console.log("tdplayer::onNPESong"),console.log(a),tb=a.data.song,$b=tb.artist(),$b.addEventListener?$b.addEventListener("artist-complete",ab):$b.attachEvent&&$b.attachEvent("artist-complete",ab);var b=db();$(b,!1)}function $(b,c){a("#asyncData").empty();var d=c?"asyncData":"npeInfo",e=a("#"+d);c===!1&&e.html('<span class="label label-inverse">Npe Info:</span>'),e.append(b)}function ab(){$b.addEventListener?$b.addEventListener("picture-complete",bb):$b.attachEvent&&$b.attachEvent("picture-complete",bb);for(var a=$b.getPictures(),b=[],c=0;c<a.length;c++)b.push(a[c].id);b.length>0&&$b.fetchPictureByIds(b);var d=cb();$(d,!0)}function bb(b){console.log("tdplayer::onArtistPictureComplete"),console.log(b);for(var c='<span class="label label-inverse">Photos:</span><br>',d=0;d<b.length;d++)b[d].getFiles()&&(c+='<a href="'+b[d].getFiles()[0].url+'" rel="lightbox[npe]" title="Click on the right side of the image to move forward."><img src="'+b[d].getFiles()[0].url+'" width="125" /></a>&nbsp;');a("#asyncData").append(c)}function cb(){if(tb!==c){var a='<span class="label label-inverse">Artist:</span>';a+="<ul><li>Artist id: "+tb.artist().id+"</li>",a+="<li>Artist birth date: "+tb.artist().getBirthDate()+"</li>",a+="<li>Artist end date: "+tb.artist().getEndDate()+"</li>",a+="<li>Artist begin place: "+tb.artist().getBeginPlace()+"</li>",a+="<li>Artist end place: "+tb.artist().getEndPlace()+"</li>",a+="<li>Artist is group ?: "+tb.artist().getIsGroup()+"</li>",a+="<li>Artist country: "+tb.artist().getCountry()+"</li>";for(var b=tb.artist().getAlbums(),d=0;d<b.length;d++)a+="<li>Album "+(d+1)+": "+b[d].getTitle()+"</li>";var e=tb.artist().getSimilar();for(d<e.length;d++;)a+="<li>Similar artist "+(d+1)+": "+e[d].name+"</li>";var f=tb.artist().getMembers();for(d<f.length;d++;)a+="<li>Member "+(d+1)+": "+f[d].name+"</li>";a+="<li>Artist website: "+tb.artist().getWebsite()+"</li>",a+="<li>Artist twitter: "+tb.artist().getTwitterUsername()+"</li>",a+="<li>Artist facebook: "+tb.artist().getFacebookUrl()+"</li>",a+="<li>Artist biography: "+tb.artist().getBiography().substring(0,2e3)+"...</small>";var g=tb.artist().getGenres();for(d<g.length;d++;)a+="<li>Genre "+(d+1)+": "+g[d]+"</li>";return a+="</ul>"}return'<span class="label label-important">The artist information is undefined</span>'}function db(){var a="NPE Data undefined";if(tb!==c&&tb.album()){var b="";null!=tb.album().getBuyUrl()&&(b='<a target="_blank" title="'+tb.album().getBuyUrl()+'" href="'+tb.album().getBuyUrl()+'">Buy on iTunes</a><br/>'),a="<p><b>Album:</b> "+tb.album().getTitle()+"<br/>"+b+'<img src="'+tb.album().getCoverArtOriginal().url+'" style="height:100px" /></p>'}return a}function eb(){for(var a,c=[],d=b.location.href.slice(b.location.href.indexOf("?")+1).split("&"),e=0;e<d.length;e++)a=d[e].split("="),c.push(a[0]),c[a[0]]=a[1];return c}function fb(b,c){c?console.error(b):console.log(b),a("#debugInformation").append(b),a("#debugInformation").append("\n")}function gb(){a("#debugInformation").html("")}function hb(){if("undefined"!=typeof Modernizr&&Modernizr.audio){var b=document.querySelectorAll(".content"),c=a(b);c.on("click",".podcast__btn--play",function(b){var c=a(b.currentTarget);p(b),ec(c.attr("data-mp3-src")),ac(),ic(c.attr("data-mp3-title"),c.attr("data-mp3-artist"),c.attr("data-mp3-hash"))}),c.on("click",".podcast__btn--pause",fc)}else{var d=a(".gmr-mediaelement-fallback audio"),e=a(".podcast__play");d.mediaelementplayer(),e.hide()}}function ib(){is_gigya_user_logged_in()?a.support.pjax&&a(document).pjax("a:not(.ab-item)",".main",{fragment:".main",maxCacheLength:500,timeout:1e4}):gmr.wpLoggedIn&&a.support.pjax&&a(document).pjax("a:not(.ab-item)",".page-wrap",{fragment:".page-wrap",maxCacheLength:500,timeout:1e4})
}function jb(a){xb===!0||!0===vb||a.preventDefault()}function kb(){var a,b=document.querySelectorAll(".audio__progress"),c=0;for(a=0;a<b.length;++a)wb.currentTime>0&&(c=Math.floor(100/wb.duration*wb.currentTime)),b[a].style.width=c+"%"}function lb(){var a,b,c,d=document.querySelectorAll(".audio__time--remaining"),e=parseInt(wb.duration),f=parseInt(wb.currentTime),g=e-f;for(a=0;a<d.length;++a)b=g%60,b=isNaN(b)?"00":10>b?"0"+b:b,c=Math.floor(g/60)%60,isNaN(c)&&(c="0"),d[a].innerHTML=c+":"+b}function mb(){var a,b=document.querySelectorAll(".audio__time--elapsed"),c=parseInt(wb.currentTime%60),d=parseInt(wb.currentTime/60%60);for(a=0;a<b.length;++a)b[a].innerHTML=10>c?d+":0"+c:d+":"+c}var nb,ob,pb,qb,rb,sb,tb,ub,vb=(eb().tech||"html5_flash","false"==eb().aSyncCuePointFallback?!1:!0,!1),wb=!1,xb=!1,yb=document.querySelector("body"),zb=document.getElementById("td_container"),Ab=document.getElementById("live-player"),Bb=document.querySelector(".live-stream__player"),Cb=document.getElementById("playButton"),Db=document.getElementById("pauseButton"),Eb=document.getElementById("resumeButton"),Fb=document.getElementById("loadButton"),Gb=document.querySelector(".podcast__btn--play"),Hb=document.querySelector(".podcast__btn--pause"),Ib=document.querySelector(".podcast-player"),Jb=document.getElementById("live-stream__listen-now"),Kb=document.getElementById("live-stream__now-playing"),Lb=document.getElementById("live-stream__login"),Mb=a(document.getElementById("trackInfo")),Nb=gigya_profile_path("login"),Ob=document.getElementById("clearDebug"),Pb=document.getElementById("on-air"),Qb=document.getElementById("live-stream__status"),Rb=document.getElementById("nowPlaying"),Sb=document.getElementById("trackInfo"),Tb=document.querySelector(".live-player__stream"),Ub=null,Vb=null,Wb=(document.querySelector(".footer"),!1),Xb="click";b.tdPlayerApiReady=function(){console.log("--- TD Player API Loaded ---"),j()};var Yb=function(){var a=Jb.textContent,c=document.getElementById("trackInfo"),d=document.getElementById("npeInfo");!0===vb&&(wb.pause(),c.innerHTML="",d.innerHTML="",ac(),q(),vb=!1,h()),"Switch to Live Stream"===a&&(Jb.innerHTML="Listen Live"),b.innerWidth>=768&&z()};a(document).ready(function(){x()});var Zb=a(".live-player__stream--current-name");Zb.bind("DOMSubtreeModified",function(){console.log("--- new stream select ---");var a=Zb.text();sb&&nb.stop(),!0===vb&&Yb(),nb.play({station:a,timeShift:!0}),Ab.classList.add("live-player--active"),l()});var $b,_b=function(){"undefined"!=typeof nb&&"undefined"!=typeof nb.stop&&nb.stop()},ac=function(){a(".podcast__btn--play.playing").removeClass("playing"),a(".podcast__btn--pause.playing").removeClass("playing")},bc=function(){var b=".mp3-"+qb;a(b+" .podcast__btn--play").addClass("playing"),a(b+" .podcast__btn--pause").addClass("playing")},cc=function(a){wb.src=a},dc=function(){vb=!0,_b(),wb.play(),gc(),hc(),ac(),l(),bc(),o(),f()},ec=function(a){ib(),a!==wb.src&&cc(a),dc()},fc=function(){wb.pause(),ac(),vb=!1,n(),h()},gc=function(){var b=_.template('<div class="now-playing__title"><%- title %></div>'),c=a(".now-playing__title"),d='<div class="audio__title">',e='</div><div class="audio__time"><span class="audio__time--inline">(</span><div class="audio__time--elapsed"></div><span class="audio__time--inline"> / </span><div class="audio__time--remaining"></div><span class="audio__time--inline">)</span></div>';c.length>0?c.html(d+pb+e):Mb.prepend(b({title:pb}))},hc=function(){var b=_.template('<div class="now-playing__artist"><%- artist %></div>'),c=a(".now-playing__artist");c.length>0?c.text(ob):Mb.append(b({artist:ob}))},ic=function(a,b,c){pb=a,ob=b,qb=c,gc(),hc(),bc()},jc=function(){"undefined"!=typeof Modernizr&&Modernizr.audio&&(wb=new Audio,wb.addEventListener?wb.addEventListener("ended",function(){ac(),n(),h()}):wb.attachEvent&&wb.attachEvent("ended",function(){ac(),n(),h()}))};a(document).bind("pjax:click",jb),jc(),hb(),wb.addEventListener("timeupdate",function(){kb(),mb(),lb()},!1),d(Gb,Xb,o),d(Hb,Xb,fc),a(document).on("pjax:end",function(){hb(),bc(),d(Gb,Xb,o),d(Hb,Xb,fc)})}(jQuery,window);