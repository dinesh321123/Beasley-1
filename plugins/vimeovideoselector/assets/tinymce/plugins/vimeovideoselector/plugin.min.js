!function (e) { tinymce.create("tinymce.plugins.vimeovideoselector", { init: function (t, n) { t.addButton("vimeovideoselector", { title: "Select Vimeo Video Player", cmd: "vimeovideoselector", image: n + "/logo.png" }), t.addCommand("vimeovideoselector", function () { let n = "vimeovideoselector-overview"; "true" == localStorage.getItem("vimeovideoselector-used-once") && (n = localStorage.getItem("vimeovideoselector-modal-tab")), localStorage.removeItem("vimeovideoselector-selected-player"), frame = new VVPS_Modal.frame({ id: "vimeovideoselector-modal-tinymce-" + t.id, title: "Vimeo Video Player Selector", button: { text: "Close" }, state: n }), frame.open(), e("#vimeovideoselector-modal-tinymce-" + t.id).one("click", ".insert-video", function (n) { n.preventDefault(), n.stopPropagation(); let o = e(this).data("embedtype"), d = e(this).data("embedkey"); o || (o = "single"), d ? t.insertContent('[vimeovideoselector key="' + d + '" type="' + o + '"]') : alert("ERROR: Cannot Embed Video, Missing Video Embed Key."), e(this).tooltip("hide"), frame.close() }), e("#vimeovideoselector-modal-tinymce-" + t.id).one("click", ".insert-player", function (n) { n.preventDefault(), n.stopPropagation(); let o = e(this).data("embedtype"), d = e(this).data("embedkey"); o || (o = "player"), d ? t.insertContent('[vimeovideoselector key="' + d + '" type="' + o + '"]') : alert("ERROR: Cannot Embed Video, Missing Video Embed Key."), e(this).tooltip("hide"), frame.close() }) }) } }), tinymce.PluginManager.add("vimeovideoselector", tinymce.plugins.vimeovideoselector) }(jQuery);