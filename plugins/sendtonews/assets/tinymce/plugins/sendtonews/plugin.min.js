!function (e) { tinymce.create("tinymce.plugins.sendtonews", { init: function (t, n) { t.addButton("sendtonews", { title: "Select STN Video Player", cmd: "sendtonews", image: n + "/logo.png" }), t.addCommand("sendtonews", function () { let n = "sendtonews-overview"; "true" == localStorage.getItem("sendtonews-used-once") && (n = localStorage.getItem("sendtonews-modal-tab")), localStorage.removeItem("sendtonews-selected-player"), frame = new S2N_Modal.frame({ id: "sendtonews-modal-tinymce-" + t.id, title: "STN Video Player Selector", button: { text: "Close" }, state: n }), frame.open(), e("#sendtonews-modal-tinymce-" + t.id).one("click", ".insert-video", function (n) { n.preventDefault(), n.stopPropagation(); let o = e(this).data("embedtype"), d = e(this).data("embedkey"); o || (o = "single"), d ? t.insertContent('[sendtonews key="' + d + '" type="' + o + '"]') : alert("ERROR: Cannot Embed Video, Missing Video Embed Key."), e(this).tooltip("hide"), frame.close() }), e("#sendtonews-modal-tinymce-" + t.id).one("click", ".insert-player", function (n) { n.preventDefault(), n.stopPropagation(); let o = e(this).data("embedtype"), d = e(this).data("embedkey"); o || (o = "player"), d ? t.insertContent('[sendtonews key="' + d + '" type="' + o + '"]') : alert("ERROR: Cannot Embed Video, Missing Video Embed Key."), e(this).tooltip("hide"), frame.close() }) }) } }), tinymce.PluginManager.add("sendtonews", tinymce.plugins.sendtonews) }(jQuery);