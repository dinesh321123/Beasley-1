/*! Greater Media Contests - v1.3.0
 * http://10up.com/
 * Copyright (c) 2017;
 * Licensed GPLv2+
 */
!function(a,b){var c,d,e="ss-promo";c=b.mce=b.mce||{},d=c.secondstreet={template:_.template('<script src="//embed-<%= op_id %>.secondstreetapp.com/Scripts/dist/embed.js" data-ss-embed="promotion" data-opguid="<%= op_guid %>" data-routing="<%= routing %>"></script>'),getContent:function(){return this.template(this.shortcode.attrs.named)},edit:function(a,c){var f=b.shortcode.next(e,a),g=f.shortcode.attrs.named;g.innercontent=f.shortcode.content,d.popupwindow(tinyMCE.activeEditor,g)},popupwindow:function(b,c){var d=a.extend({op_id:"",op_guid:"",routing:""},c);b.windowManager.open({title:"SecondStreet",body:[{type:"textbox",name:"op_id",label:"op_id",value:d.op_id},{type:"textbox",name:"op_guid",label:"op_guid",value:d.op_guid},{type:"textbox",name:"routing",label:"routing",value:d.routing}],onsubmit:function(a){var c="["+e;for(var d in a.data)a.data.hasOwnProperty(d)&&"innercontent"!==d&&(c+=" "+d+'="'+a.data[d]+'"');c+="]","undefined"!=typeof a.data.innercontent&&(c+=a.data.innercontent,c+="[/"+e+"]"),b.insertContent(c)}})}},c.views.register(e,d),tinymce.PluginManager.add("secondstreet",function(a,b){a.addButton("secondstreet",{tooltip:"SecondStreet",image:b+"/../img/sslogo.png",onclick:function(){d.popupwindow(a,{})}})})}(jQuery,wp);